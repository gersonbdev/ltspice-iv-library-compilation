* SIMetrix model library

* Copyright (C) 1998 Newbury Technology Ltd. All rights reserved.
* 
* These models are believed to be accurate but Newbury Technology Ltd.
* offers no guarantee as to their fitness for any purpose nor do they
* accept any responsibility for damage caused directly or indirectly
* by their use.
*
*
* 2.10.98



* Air gap 0

.subckt tx_4F1_80 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 80
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 80
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 4.43269,
+ -8317.64, 4.7479,
+ -7585.78, 5.08552,
+ -6918.31, 5.44714,
+ -6309.57, 5.83449,
+ -5754.4, 6.24938,
+ -5248.07, 6.69377,
+ -4786.3, 7.16976,
+ -4365.16, 7.67959,
+ -3981.07, 8.22569,
+ -3630.78, 8.81061,
+ -3311.31, 9.43713,
+ -3019.95, 10.1082,
+ -2754.23, 10.827,
+ -2511.89, 11.5969,
+ -2290.87, 12.4215,
+ -2089.3, 13.3048,
+ -1905.46, 14.2509,
+ -1737.8, 15.2643,
+ -1584.89, 16.3497,
+ -1445.44, 17.5124,
+ -1318.26, 18.7577,
+ -1202.26, 20.0915,
+ -1096.48, 21.5202,
+ -1000, 23.0505,
+ -912.011, 24.6896,
+ -831.764, 26.4453,
+ -758.578, 28.3258,
+ -691.831, 30.34,
+ -630.957, 32.4975,
+ -575.44, 34.8084,
+ -524.807, 37.2836,
+ -478.63, 39.9348,
+ -436.516, 42.7745,
+ -398.107, 45.8162,
+ -363.078, 49.0742,
+ -331.131, 52.5638,
+ -301.995, 56.3016,
+ -275.423, 60.3052,
+ -251.189, 64.5935,
+ -229.087, 69.1867,
+ -208.93, 73.6763,
+ -190.546, 75.7913,
+ -173.78, 77.142,
+ -158.489, 78.1497,
+ -144.544, 78.8824,
+ -131.826, 79.3955,
+ -120.226, 79.7344,
+ -109.648, 79.9362,
+ -1, 80,
+ 1, 80,
+ 109.648, 79.9362,
+ 120.226, 79.7344,
+ 131.826, 79.3955,
+ 144.544, 78.8824,
+ 158.489, 78.1497,
+ 173.78, 77.142,
+ 190.546, 75.7913,
+ 208.93, 73.6763,
+ 229.087, 69.1867,
+ 251.189, 64.5935,
+ 275.423, 60.3052,
+ 301.995, 56.3016,
+ 331.131, 52.5638,
+ 363.078, 49.0742,
+ 398.107, 45.8162,
+ 436.516, 42.7745,
+ 478.63, 39.9348,
+ 524.807, 37.2836,
+ 575.44, 34.8084,
+ 630.957, 32.4975,
+ 691.831, 30.34,
+ 758.578, 28.3258,
+ 831.764, 26.4453,
+ 912.011, 24.6896,
+ 1000, 23.0505,
+ 1096.48, 21.5202,
+ 1202.26, 20.0915,
+ 1318.26, 18.7577,
+ 1445.44, 17.5124,
+ 1584.89, 16.3497,
+ 1737.8, 15.2643,
+ 1905.46, 14.2509,
+ 2089.3, 13.3048,
+ 2290.87, 12.4215,
+ 2511.89, 11.5969,
+ 2754.23, 10.827,
+ 3019.95, 10.1082,
+ 3311.31, 9.43713,
+ 3630.78, 8.81061,
+ 3981.07, 8.22569,
+ 4365.16, 7.67959,
+ 4786.3, 7.16976,
+ 5248.07, 6.69377,
+ 5754.4, 6.24938,
+ 6309.57, 5.83449,
+ 6918.31, 5.44714,
+ 7585.78, 5.08552,
+ 8317.64, 4.7479,
+ 9120.11, 4.43269]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_4F1_74 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 74
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 74
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 4.45459,
+ -8317.64, 4.77258,
+ -7585.78, 5.11331,
+ -6918.31, 5.47842,
+ -6309.57, 5.86966,
+ -5754.4, 6.28888,
+ -5248.07, 6.73809,
+ -4786.3, 7.21943,
+ -4365.16, 7.73521,
+ -3981.07, 8.28787,
+ -3630.78, 8.88005,
+ -3311.31, 9.51455,
+ -3019.95, 10.1944,
+ -2754.23, 10.9228,
+ -2511.89, 11.7031,
+ -2290.87, 12.5391,
+ -2089.3, 13.4346,
+ -1905.46, 14.3939,
+ -1737.8, 15.4213,
+ -1584.89, 16.5216,
+ -1445.44, 17.6998,
+ -1318.26, 18.9613,
+ -1202.26, 20.3117,
+ -1096.48, 21.757,
+ -1000, 23.3036,
+ -912.011, 24.9581,
+ -831.764, 26.7275,
+ -758.578, 28.6194,
+ -691.831, 30.6413,
+ -630.957, 32.8014,
+ -575.44, 35.1081,
+ -524.807, 37.5711,
+ -478.63, 40.1957,
+ -436.516, 42.995,
+ -398.107, 45.977,
+ -363.078, 49.1508,
+ -331.131, 52.526,
+ -301.995, 56.1116,
+ -275.423, 59.9166,
+ -251.189, 63.9495,
+ -229.087, 68.0557,
+ -208.93, 70.2157,
+ -190.546, 71.4428,
+ -173.78, 72.358,
+ -158.489, 73.0247,
+ -144.544, 73.494,
+ -131.826, 73.8129,
+ -120.226, 73.9918,
+ -109.648, 74.0728,
+ -1, 74.0741,
+ 1, 74.0741,
+ 109.648, 74.0728,
+ 120.226, 73.9918,
+ 131.826, 73.8129,
+ 144.544, 73.494,
+ 158.489, 73.0247,
+ 173.78, 72.358,
+ 190.546, 71.4428,
+ 208.93, 70.2157,
+ 229.087, 68.0557,
+ 251.189, 63.9495,
+ 275.423, 59.9166,
+ 301.995, 56.1116,
+ 331.131, 52.526,
+ 363.078, 49.1508,
+ 398.107, 45.977,
+ 436.516, 42.995,
+ 478.63, 40.1957,
+ 524.807, 37.5711,
+ 575.44, 35.1081,
+ 630.957, 32.8014,
+ 691.831, 30.6413,
+ 758.578, 28.6194,
+ 831.764, 26.7275,
+ 912.011, 24.9581,
+ 1000, 23.3036,
+ 1096.48, 21.757,
+ 1202.26, 20.3117,
+ 1318.26, 18.9613,
+ 1445.44, 17.6998,
+ 1584.89, 16.5216,
+ 1737.8, 15.4213,
+ 1905.46, 14.3939,
+ 2089.3, 13.4346,
+ 2290.87, 12.5391,
+ 2511.89, 11.7031,
+ 2754.23, 10.9228,
+ 3019.95, 10.1944,
+ 3311.31, 9.51455,
+ 3630.78, 8.88005,
+ 3981.07, 8.28787,
+ 4365.16, 7.73521,
+ 4786.3, 7.21943,
+ 5248.07, 6.73809,
+ 5754.4, 6.28888,
+ 6309.57, 5.86966,
+ 6918.31, 5.47842,
+ 7585.78, 5.11331,
+ 8317.64, 4.77258,
+ 9120.11, 4.45459]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_4F1_68 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 68
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 68
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 4.47647,
+ -8317.64, 4.79722,
+ -7585.78, 5.14105,
+ -6918.31, 5.50962,
+ -6309.57, 5.9047,
+ -5754.4, 6.32821,
+ -5248.07, 6.78218,
+ -4786.3, 7.2688,
+ -4365.16, 7.79041,
+ -3981.07, 8.3495,
+ -3630.78, 8.94875,
+ -3311.31, 9.59101,
+ -3019.95, 10.2793,
+ -2754.23, 11.0169,
+ -2511.89, 11.8072,
+ -2290.87, 12.6539,
+ -2089.3, 13.5609,
+ -1905.46, 14.5324,
+ -1737.8, 15.5726,
+ -1584.89, 16.6862,
+ -1445.44, 17.8781,
+ -1318.26, 19.1533,
+ -1202.26, 20.5172,
+ -1096.48, 21.9754,
+ -1000, 23.5337,
+ -912.011, 25.1979,
+ -831.764, 26.9743,
+ -758.578, 28.869,
+ -691.831, 30.8885,
+ -630.957, 33.0391,
+ -575.44, 35.327,
+ -524.807, 37.7583,
+ -478.63, 40.339,
+ -436.516, 43.0744,
+ -398.107, 45.9697,
+ -363.078, 49.0308,
+ -331.131, 52.2549,
+ -301.995, 55.652,
+ -275.423, 59.2203,
+ -251.189, 62.944,
+ -229.087, 65.3148,
+ -208.93, 66.4607,
+ -190.546, 67.3158,
+ -173.78, 67.9408,
+ -158.489, 68.3838,
+ -144.544, 68.6834,
+ -131.826, 68.8713,
+ -120.226, 68.9585,
+ -1, 68.9655,
+ 1, 68.9655,
+ 120.226, 68.9585,
+ 131.826, 68.8713,
+ 144.544, 68.6834,
+ 158.489, 68.3838,
+ 173.78, 67.9408,
+ 190.546, 67.3158,
+ 208.93, 66.4607,
+ 229.087, 65.3148,
+ 251.189, 62.944,
+ 275.423, 59.2203,
+ 301.995, 55.652,
+ 331.131, 52.2549,
+ 363.078, 49.0308,
+ 398.107, 45.9697,
+ 436.516, 43.0744,
+ 478.63, 40.339,
+ 524.807, 37.7583,
+ 575.44, 35.327,
+ 630.957, 33.0391,
+ 691.831, 30.8885,
+ 758.578, 28.869,
+ 831.764, 26.9743,
+ 912.011, 25.1979,
+ 1000, 23.5337,
+ 1096.48, 21.9754,
+ 1202.26, 20.5172,
+ 1318.26, 19.1533,
+ 1445.44, 17.8781,
+ 1584.89, 16.6862,
+ 1737.8, 15.5726,
+ 1905.46, 14.5324,
+ 2089.3, 13.5609,
+ 2290.87, 12.6539,
+ 2511.89, 11.8072,
+ 2754.23, 11.0169,
+ 3019.95, 10.2793,
+ 3311.31, 9.59101,
+ 3630.78, 8.94875,
+ 3981.07, 8.3495,
+ 4365.16, 7.79041,
+ 4786.3, 7.2688,
+ 5248.07, 6.78218,
+ 5754.4, 6.32821,
+ 6309.57, 5.9047,
+ 6918.31, 5.50962,
+ 7585.78, 5.14105,
+ 8317.64, 4.79722,
+ 9120.11, 4.47647]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_4F1_57 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 57
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 57
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 4.54189,
+ -8317.64, 4.87085,
+ -7585.78, 5.22383,
+ -6918.31, 5.60257,
+ -6309.57, 6.00896,
+ -5754.4, 6.445,
+ -5248.07, 6.91282,
+ -4786.3, 7.4147,
+ -4365.16, 7.95306,
+ -3981.07, 8.5305,
+ -3630.78, 9.14973,
+ -3311.31, 9.81364,
+ -3019.95, 10.5253,
+ -2754.23, 11.2879,
+ -2511.89, 12.1048,
+ -2290.87, 12.9795,
+ -2089.3, 13.9156,
+ -1905.46, 14.9169,
+ -1737.8, 15.9872,
+ -1584.89, 17.1303,
+ -1445.44, 18.3502,
+ -1318.26, 19.6506,
+ -1202.26, 21.0354,
+ -1096.48, 22.5081,
+ -1000, 24.072,
+ -912.011, 25.73,
+ -831.764, 27.4845,
+ -758.578, 29.3375,
+ -691.831, 31.29,
+ -630.957, 33.3423,
+ -575.44, 35.4936,
+ -524.807, 37.742,
+ -478.63, 40.0844,
+ -436.516, 42.5162,
+ -398.107, 45.0315,
+ -363.078, 47.6229,
+ -331.131, 50.2832,
+ -301.995, 52.9805,
+ -275.423, 54.636,
+ -251.189, 55.4337,
+ -229.087, 56.0234,
+ -208.93, 56.4514,
+ -190.546, 56.753,
+ -173.78, 56.9558,
+ -158.489, 57.0827,
+ -144.544, 57.1383,
+ -1, 57.1429,
+ 1, 57.1429,
+ 144.544, 57.1383,
+ 158.489, 57.0827,
+ 173.78, 56.9558,
+ 190.546, 56.753,
+ 208.93, 56.4514,
+ 229.087, 56.0234,
+ 251.189, 55.4337,
+ 275.423, 54.636,
+ 301.995, 52.9805,
+ 331.131, 50.2832,
+ 363.078, 47.6229,
+ 398.107, 45.0315,
+ 436.516, 42.5162,
+ 478.63, 40.0844,
+ 524.807, 37.742,
+ 575.44, 35.4936,
+ 630.957, 33.3423,
+ 691.831, 31.29,
+ 758.578, 29.3375,
+ 831.764, 27.4845,
+ 912.011, 25.73,
+ 1000, 24.072,
+ 1096.48, 22.5081,
+ 1202.26, 21.0354,
+ 1318.26, 19.6506,
+ 1445.44, 18.3502,
+ 1584.89, 17.1303,
+ 1737.8, 15.9872,
+ 1905.46, 14.9169,
+ 2089.3, 13.9156,
+ 2290.87, 12.9795,
+ 2511.89, 12.1048,
+ 2754.23, 11.2879,
+ 3019.95, 10.5253,
+ 3311.31, 9.81364,
+ 3630.78, 9.14973,
+ 3981.07, 8.5305,
+ 4365.16, 7.95306,
+ 4786.3, 7.4147,
+ 5248.07, 6.91282,
+ 5754.4, 6.445,
+ 6309.57, 6.00896,
+ 6918.31, 5.60257,
+ 7585.78, 5.22383,
+ 8317.64, 4.87085,
+ 9120.11, 4.54189]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_4F1_44 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 44
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 44
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 4.64988,
+ -8317.64, 4.99206,
+ -7585.78, 5.35968,
+ -6918.31, 5.75458,
+ -6309.57, 6.17875,
+ -5754.4, 6.63426,
+ -5248.07, 7.12331,
+ -4786.3, 7.64822,
+ -4365.16, 8.21142,
+ -3981.07, 8.8154,
+ -3630.78, 9.46278,
+ -3311.31, 10.1562,
+ -3019.95, 10.8984,
+ -2754.23, 11.6921,
+ -2511.89, 12.5398,
+ -2290.87, 13.4443,
+ -2089.3, 14.4079,
+ -1905.46, 15.4328,
+ -1737.8, 16.5209,
+ -1584.89, 17.6736,
+ -1445.44, 18.892,
+ -1318.26, 20.1764,
+ -1202.26, 21.5263,
+ -1096.48, 22.9406,
+ -1000, 24.4171,
+ -912.011, 25.9525,
+ -831.764, 27.5425,
+ -758.578, 29.1817,
+ -691.831, 30.8636,
+ -630.957, 32.5806,
+ -575.44, 34.3242,
+ -524.807, 36.0852,
+ -478.63, 37.8536,
+ -436.516, 39.6195,
+ -398.107, 41.3726,
+ -363.078, 42.7268,
+ -331.131, 43.2785,
+ -301.995, 43.6747,
+ -275.423, 43.9617,
+ -251.189, 44.1648,
+ -229.087, 44.3029,
+ -208.93, 44.3906,
+ -190.546, 44.4376,
+ -1, 44.4444,
+ 1, 44.4444,
+ 190.546, 44.4376,
+ 208.93, 44.3906,
+ 229.087, 44.3029,
+ 251.189, 44.1648,
+ 275.423, 43.9617,
+ 301.995, 43.6747,
+ 331.131, 43.2785,
+ 363.078, 42.7268,
+ 398.107, 41.3726,
+ 436.516, 39.6195,
+ 478.63, 37.8536,
+ 524.807, 36.0852,
+ 575.44, 34.3242,
+ 630.957, 32.5806,
+ 691.831, 30.8636,
+ 758.578, 29.1817,
+ 831.764, 27.5425,
+ 912.011, 25.9525,
+ 1000, 24.4171,
+ 1096.48, 22.9406,
+ 1202.26, 21.5263,
+ 1318.26, 20.1764,
+ 1445.44, 18.892,
+ 1584.89, 17.6736,
+ 1737.8, 16.5209,
+ 1905.46, 15.4328,
+ 2089.3, 14.4079,
+ 2290.87, 13.4443,
+ 2511.89, 12.5398,
+ 2754.23, 11.6921,
+ 3019.95, 10.8984,
+ 3311.31, 10.1562,
+ 3630.78, 9.46278,
+ 3981.07, 8.8154,
+ 4365.16, 8.21142,
+ 4786.3, 7.64822,
+ 5248.07, 7.12331,
+ 5754.4, 6.63426,
+ 6309.57, 6.17875,
+ 6918.31, 5.75458,
+ 7585.78, 5.35968,
+ 8317.64, 4.99206,
+ 9120.11, 4.64988]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_4F1_30 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 30
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 30
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 4.85897,
+ -8317.64, 5.22499,
+ -7585.78, 5.61846,
+ -6918.31, 6.04117,
+ -6309.57, 6.49499,
+ -5754.4, 6.98178,
+ -5248.07, 7.50339,
+ -4786.3, 8.06161,
+ -4365.16, 8.65813,
+ -3981.07, 9.29447,
+ -3630.78, 9.97192,
+ -3311.31, 10.6915,
+ -3019.95, 11.4537,
+ -2754.23, 12.2587,
+ -2511.89, 13.106,
+ -2290.87, 13.9943,
+ -2089.3, 14.9219,
+ -1905.46, 15.8858,
+ -1737.8, 16.8826,
+ -1584.89, 17.9076,
+ -1445.44, 18.9556,
+ -1318.26, 20.0206,
+ -1202.26, 21.096,
+ -1096.48, 22.1739,
+ -1000, 23.2481,
+ -912.011, 24.3109,
+ -831.764, 25.3551,
+ -758.578, 26.3742,
+ -691.831, 27.3622,
+ -630.957, 28.3142,
+ -575.44, 29.2258,
+ -524.807, 29.9241,
+ -478.63, 30.2005,
+ -436.516, 30.3956,
+ -398.107, 30.5356,
+ -363.078, 30.6341,
+ -331.131, 30.7009,
+ -301.995, 30.7432,
+ -275.423, 30.7659,
+ -1, 30.7692,
+ 1, 30.7692,
+ 275.423, 30.7659,
+ 301.995, 30.7432,
+ 331.131, 30.7009,
+ 363.078, 30.6341,
+ 398.107, 30.5356,
+ 436.516, 30.3956,
+ 478.63, 30.2005,
+ 524.807, 29.9241,
+ 575.44, 29.2258,
+ 630.957, 28.3142,
+ 691.831, 27.3622,
+ 758.578, 26.3742,
+ 831.764, 25.3551,
+ 912.011, 24.3109,
+ 1000, 23.2481,
+ 1096.48, 22.1739,
+ 1202.26, 21.096,
+ 1318.26, 20.0206,
+ 1445.44, 18.9556,
+ 1584.89, 17.9076,
+ 1737.8, 16.8826,
+ 1905.46, 15.8858,
+ 2089.3, 14.9219,
+ 2290.87, 13.9943,
+ 2511.89, 13.106,
+ 2754.23, 12.2587,
+ 3019.95, 11.4537,
+ 3311.31, 10.6915,
+ 3630.78, 9.97192,
+ 3981.07, 9.29447,
+ 4365.16, 8.65813,
+ 4786.3, 8.06161,
+ 5248.07, 7.50339,
+ 5754.4, 6.98178,
+ 6309.57, 6.49499,
+ 6918.31, 6.04117,
+ 7585.78, 5.61846,
+ 8317.64, 5.22499,
+ 9120.11, 4.85897]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3F4_899 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 899
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 899
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.09016,
+ -8317.64, 1.24559,
+ -7585.78, 1.42318,
+ -6918.31, 1.6261,
+ -6309.57, 1.85795,
+ -5754.4, 2.12285,
+ -5248.07, 2.42553,
+ -4786.3, 2.77136,
+ -4365.16, 3.1665,
+ -3981.07, 3.61797,
+ -3630.78, 4.13382,
+ -3311.31, 4.72322,
+ -3019.95, 5.39665,
+ -2754.23, 6.1661,
+ -2511.89, 7.04526,
+ -2290.87, 8.04977,
+ -2089.3, 9.1975,
+ -1905.46, 10.5089,
+ -1737.8, 12.0072,
+ -1584.89, 13.7192,
+ -1445.44, 15.6753,
+ -1318.26, 17.9102,
+ -1202.26, 20.4639,
+ -1096.48, 23.3816,
+ -1000, 26.7153,
+ -912.011, 30.5244,
+ -831.764, 34.8765,
+ -758.578, 39.8492,
+ -691.831, 45.5308,
+ -630.957, 52.0226,
+ -575.44, 59.4399,
+ -524.807, 67.9148,
+ -478.63, 77.5981,
+ -436.516, 88.6619,
+ -398.107, 101.303,
+ -363.078, 115.747,
+ -331.131, 132.25,
+ -301.995, 151.106,
+ -275.423, 172.651,
+ -251.189, 197.267,
+ -229.087, 225.394,
+ -208.93, 257.53,
+ -190.546, 294.248,
+ -173.78, 336.202,
+ -158.489, 384.138,
+ -144.544, 438.908,
+ -131.826, 501.487,
+ -120.226, 572.988,
+ -109.648, 654.685,
+ -100, 732.306,
+ -91.2011, 787.088,
+ -83.1764, 827.903,
+ -75.8578, 857.52,
+ -69.1831, 878.203,
+ -63.0957, 891.802,
+ -57.544, 899.828,
+ -52.4807, 903.506,
+ -47.863, 903.832,
+ -43.6516, 901.616,
+ -1, 900,
+ 1, 900,
+ 43.6516, 901.616,
+ 47.863, 903.832,
+ 52.4807, 903.506,
+ 57.544, 899.828,
+ 63.0957, 891.802,
+ 69.1831, 878.203,
+ 75.8578, 857.52,
+ 83.1764, 827.903,
+ 91.2011, 787.088,
+ 100, 732.306,
+ 109.648, 654.685,
+ 120.226, 572.988,
+ 131.826, 501.487,
+ 144.544, 438.908,
+ 158.489, 384.138,
+ 173.78, 336.202,
+ 190.546, 294.248,
+ 208.93, 257.53,
+ 229.087, 225.394,
+ 251.189, 197.267,
+ 275.423, 172.651,
+ 301.995, 151.106,
+ 331.131, 132.25,
+ 363.078, 115.747,
+ 398.107, 101.303,
+ 436.516, 88.6619,
+ 478.63, 77.5981,
+ 524.807, 67.9148,
+ 575.44, 59.4399,
+ 630.957, 52.0226,
+ 691.831, 45.5308,
+ 758.578, 39.8492,
+ 831.764, 34.8765,
+ 912.011, 30.5244,
+ 1000, 26.7153,
+ 1096.48, 23.3816,
+ 1202.26, 20.4639,
+ 1318.26, 17.9102,
+ 1445.44, 15.6753,
+ 1584.89, 13.7192,
+ 1737.8, 12.0072,
+ 1905.46, 10.5089,
+ 2089.3, 9.1975,
+ 2290.87, 8.04977,
+ 2511.89, 7.04526,
+ 2754.23, 6.1661,
+ 3019.95, 5.39665,
+ 3311.31, 4.72322,
+ 3630.78, 4.13382,
+ 3981.07, 3.61797,
+ 4365.16, 3.1665,
+ 4786.3, 2.77136,
+ 5248.07, 2.42553,
+ 5754.4, 2.12285,
+ 6309.57, 1.85795,
+ 6918.31, 1.6261,
+ 7585.78, 1.42318,
+ 8317.64, 1.24559,
+ 9120.11, 1.09016]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3F4_473 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 473
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 473
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.13035,
+ -8317.64, 1.29581,
+ -7585.78, 1.48591,
+ -6918.31, 1.70446,
+ -6309.57, 1.95583,
+ -5754.4, 2.24511,
+ -5248.07, 2.57822,
+ -4786.3, 2.96207,
+ -4365.16, 3.40468,
+ -3981.07, 3.91544,
+ -3630.78, 4.50531,
+ -3311.31, 5.18714,
+ -3019.95, 5.97597,
+ -2754.23, 6.88948,
+ -2511.89, 7.94847,
+ -2290.87, 9.17742,
+ -2089.3, 10.6052,
+ -1905.46, 12.2659,
+ -1737.8, 14.1999,
+ -1584.89, 16.4547,
+ -1445.44, 19.0869,
+ -1318.26, 22.1632,
+ -1202.26, 25.7626,
+ -1096.48, 29.9782,
+ -1000, 34.9197,
+ -912.011, 40.7155,
+ -831.764, 47.5151,
+ -758.578, 55.4907,
+ -691.831, 64.8384,
+ -630.957, 75.7767,
+ -575.44, 88.5433,
+ -524.807, 103.387,
+ -478.63, 120.555,
+ -436.516, 140.271,
+ -398.107, 162.709,
+ -363.078, 187.956,
+ -331.131, 215.982,
+ -301.995, 246.599,
+ -275.423, 279.454,
+ -251.189, 314.026,
+ -229.087, 349.662,
+ -208.93, 385.637,
+ -190.546, 418.076,
+ -173.78, 438.453,
+ -158.489, 452.011,
+ -144.544, 461.243,
+ -131.826, 467.391,
+ -120.226, 471.314,
+ -109.648, 473.593,
+ -100, 474.639,
+ -91.2011, 474.752,
+ -83.1764, 474.158,
+ -1, 473.684,
+ 1, 473.684,
+ 83.1764, 474.158,
+ 91.2011, 474.752,
+ 100, 474.639,
+ 109.648, 473.593,
+ 120.226, 471.314,
+ 131.826, 467.391,
+ 144.544, 461.243,
+ 158.489, 452.011,
+ 173.78, 438.453,
+ 190.546, 418.076,
+ 208.93, 385.637,
+ 229.087, 349.662,
+ 251.189, 314.026,
+ 275.423, 279.454,
+ 301.995, 246.599,
+ 331.131, 215.982,
+ 363.078, 187.956,
+ 398.107, 162.709,
+ 436.516, 140.271,
+ 478.63, 120.555,
+ 524.807, 103.387,
+ 575.44, 88.5433,
+ 630.957, 75.7767,
+ 691.831, 64.8384,
+ 758.578, 55.4907,
+ 831.764, 47.5151,
+ 912.011, 40.7155,
+ 1000, 34.9197,
+ 1096.48, 29.9782,
+ 1202.26, 25.7626,
+ 1318.26, 22.1632,
+ 1445.44, 19.0869,
+ 1584.89, 16.4547,
+ 1737.8, 14.1999,
+ 1905.46, 12.2659,
+ 2089.3, 10.6052,
+ 2290.87, 9.17742,
+ 2511.89, 7.94847,
+ 2754.23, 6.88948,
+ 3019.95, 5.97597,
+ 3311.31, 5.18714,
+ 3630.78, 4.50531,
+ 3981.07, 3.91544,
+ 4365.16, 3.40468,
+ 4786.3, 2.96207,
+ 5248.07, 2.57822,
+ 5754.4, 2.24511,
+ 6309.57, 1.95583,
+ 6918.31, 1.70446,
+ 7585.78, 1.48591,
+ 8317.64, 1.29581,
+ 9120.11, 1.13035]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3F4_321 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 321
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 321
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.17299,
+ -8317.64, 1.34935,
+ -7585.78, 1.55318,
+ -6918.31, 1.78901,
+ -6309.57, 2.06215,
+ -5754.4, 2.37888,
+ -5248.07, 2.74663,
+ -4786.3, 3.17421,
+ -4365.16, 3.67207,
+ -3981.07, 4.25271,
+ -3630.78, 4.93104,
+ -3311.31, 5.72492,
+ -3019.95, 6.65571,
+ -2754.23, 7.74958,
+ -2511.89, 9.03752,
+ -2290.87, 10.5574,
+ -2089.3, 12.355,
+ -1905.46, 14.4861,
+ -1737.8, 17.018,
+ -1584.89, 20.0327,
+ -1445.44, 23.629,
+ -1318.26, 27.9256,
+ -1202.26, 33.064,
+ -1096.48, 39.2101,
+ -1000, 46.5539,
+ -912.011, 55.3065,
+ -831.764, 65.69,
+ -758.578, 77.9192,
+ -691.831, 92.1723,
+ -630.957, 108.55,
+ -575.44, 127.029,
+ -524.807, 147.415,
+ -478.63, 169.328,
+ -436.516, 192.211,
+ -398.107, 215.406,
+ -363.078, 238.204,
+ -331.131, 260.023,
+ -301.995, 280.381,
+ -275.423, 296.686,
+ -251.189, 306.154,
+ -229.087, 312.297,
+ -208.93, 316.333,
+ -190.546, 318.972,
+ -173.78, 320.613,
+ -158.489, 321.531,
+ -144.544, 321.911,
+ -131.826, 321.886,
+ -120.226, 321.569,
+ -1, 321.429,
+ 1, 321.429,
+ 120.226, 321.569,
+ 131.826, 321.886,
+ 144.544, 321.911,
+ 158.489, 321.531,
+ 173.78, 320.613,
+ 190.546, 318.972,
+ 208.93, 316.333,
+ 229.087, 312.297,
+ 251.189, 306.154,
+ 275.423, 296.686,
+ 301.995, 280.381,
+ 331.131, 260.023,
+ 363.078, 238.204,
+ 398.107, 215.406,
+ 436.516, 192.211,
+ 478.63, 169.328,
+ 524.807, 147.415,
+ 575.44, 127.029,
+ 630.957, 108.55,
+ 691.831, 92.1723,
+ 758.578, 77.9192,
+ 831.764, 65.69,
+ 912.011, 55.3065,
+ 1000, 46.5539,
+ 1096.48, 39.2101,
+ 1202.26, 33.064,
+ 1318.26, 27.9256,
+ 1445.44, 23.629,
+ 1584.89, 20.0327,
+ 1737.8, 17.018,
+ 1905.46, 14.4861,
+ 2089.3, 12.355,
+ 2290.87, 10.5574,
+ 2511.89, 9.03752,
+ 2754.23, 7.74958,
+ 3019.95, 6.65571,
+ 3311.31, 5.72492,
+ 3630.78, 4.93104,
+ 3981.07, 4.25271,
+ 4365.16, 3.67207,
+ 4786.3, 3.17421,
+ 5248.07, 2.74663,
+ 5754.4, 2.37888,
+ 6309.57, 2.06215,
+ 6918.31, 1.78901,
+ 7585.78, 1.55318,
+ 8317.64, 1.34935,
+ 9120.11, 1.17299]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3F4_163 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 163
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 163
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.31765,
+ -8317.64, 1.53313,
+ -7585.78, 1.787,
+ -6918.31, 2.08697,
+ -6309.57, 2.44251,
+ -5754.4, 2.86535,
+ -5248.07, 3.37007,
+ -4786.3, 3.97493,
+ -4365.16, 4.70288,
+ -3981.07, 5.58296,
+ -3630.78, 6.65207,
+ -3311.31, 7.95728,
+ -3019.95, 9.55876,
+ -2754.23, 11.5335,
+ -2511.89, 13.9795,
+ -2290.87, 17.0204,
+ -2089.3, 20.8091,
+ -1905.46, 25.5282,
+ -1737.8, 31.383,
+ -1584.89, 38.5789,
+ -1445.44, 47.278,
+ -1318.26, 57.5287,
+ -1202.26, 69.1865,
+ -1096.48, 81.8621,
+ -1000, 94.952,
+ -912.011, 107.763,
+ -831.764, 119.685,
+ -758.578, 130.314,
+ -691.831, 139.481,
+ -630.957, 147.21,
+ -575.44, 153.611,
+ -524.807, 157.829,
+ -478.63, 160.16,
+ -436.516, 161.627,
+ -398.107, 162.564,
+ -363.078, 163.163,
+ -331.131, 163.522,
+ -301.995, 163.709,
+ -275.423, 163.769,
+ -251.189, 163.734,
+ -229.087, 163.649,
+ -1, 163.636,
+ 1, 163.636,
+ 229.087, 163.649,
+ 251.189, 163.734,
+ 275.423, 163.769,
+ 301.995, 163.709,
+ 331.131, 163.522,
+ 363.078, 163.163,
+ 398.107, 162.564,
+ 436.516, 161.627,
+ 478.63, 160.16,
+ 524.807, 157.829,
+ 575.44, 153.611,
+ 630.957, 147.21,
+ 691.831, 139.481,
+ 758.578, 130.314,
+ 831.764, 119.685,
+ 912.011, 107.763,
+ 1000, 94.952,
+ 1096.48, 81.8621,
+ 1202.26, 69.1865,
+ 1318.26, 57.5287,
+ 1445.44, 47.278,
+ 1584.89, 38.5789,
+ 1737.8, 31.383,
+ 1905.46, 25.5282,
+ 2089.3, 20.8091,
+ 2290.87, 17.0204,
+ 2511.89, 13.9795,
+ 2754.23, 11.5335,
+ 3019.95, 9.55876,
+ 3311.31, 7.95728,
+ 3630.78, 6.65207,
+ 3981.07, 5.58296,
+ 4365.16, 4.70288,
+ 4786.3, 3.97493,
+ 5248.07, 3.37007,
+ 5754.4, 2.86535,
+ 6309.57, 2.44251,
+ 6918.31, 2.08697,
+ 7585.78, 1.787,
+ 8317.64, 1.53313,
+ 9120.11, 1.31765]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3F4_90 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 90
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 90
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.63138,
+ -8317.64, 1.94227,
+ -7585.78, 2.3228,
+ -6918.31, 2.79179,
+ -6309.57, 3.37421,
+ -5754.4, 4.10341,
+ -5248.07, 5.02426,
+ -4786.3, 6.1975,
+ -4365.16, 7.70518,
+ -3981.07, 9.65805,
+ -3630.78, 12.201,
+ -3311.31, 15.516,
+ -3019.95, 19.8093,
+ -2754.23, 25.2686,
+ -2511.89, 31.9718,
+ -2290.87, 39.7628,
+ -2089.3, 48.1757,
+ -1905.46, 56.5231,
+ -1737.8, 64.1459,
+ -1584.89, 70.6377,
+ -1445.44, 75.9014,
+ -1318.26, 80.0444,
+ -1202.26, 83.2623,
+ -1096.48, 85.7568,
+ -1000, 87.6046,
+ -912.011, 88.6015,
+ -831.764, 89.1804,
+ -758.578, 89.5444,
+ -691.831, 89.7743,
+ -630.957, 89.9176,
+ -575.44, 89.9987,
+ -524.807, 90.0351,
+ -478.63, 90.0381,
+ -436.516, 90.0161,
+ -1, 90,
+ 1, 90,
+ 436.516, 90.0161,
+ 478.63, 90.0381,
+ 524.807, 90.0351,
+ 575.44, 89.9987,
+ 630.957, 89.9176,
+ 691.831, 89.7743,
+ 758.578, 89.5444,
+ 831.764, 89.1804,
+ 912.011, 88.6015,
+ 1000, 87.6046,
+ 1096.48, 85.7568,
+ 1202.26, 83.2623,
+ 1318.26, 80.0444,
+ 1445.44, 75.9014,
+ 1584.89, 70.6377,
+ 1737.8, 64.1459,
+ 1905.46, 56.5231,
+ 2089.3, 48.1757,
+ 2290.87, 39.7628,
+ 2511.89, 31.9718,
+ 2754.23, 25.2686,
+ 3019.95, 19.8093,
+ 3311.31, 15.516,
+ 3630.78, 12.201,
+ 3981.07, 9.65805,
+ 4365.16, 7.70518,
+ 4786.3, 6.1975,
+ 5248.07, 5.02426,
+ 5754.4, 4.10341,
+ 6309.57, 3.37421,
+ 6918.31, 2.79179,
+ 7585.78, 2.3228,
+ 8317.64, 1.94227,
+ 9120.11, 1.63138]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3F4_47 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 47
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 47
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.75223,
+ -8317.64, 3.50248,
+ -7585.78, 4.51757,
+ -6918.31, 5.90971,
+ -6309.57, 7.83544,
+ -5754.4, 10.4929,
+ -5248.07, 14.0765,
+ -4786.3, 18.6475,
+ -4365.16, 23.9446,
+ -3981.07, 29.3421,
+ -3630.78, 34.1456,
+ -3311.31, 37.9704,
+ -3019.95, 40.8086,
+ -2754.23, 42.8467,
+ -2511.89, 44.3031,
+ -2290.87, 45.3531,
+ -2089.3, 46.1233,
+ -1905.46, 46.6751,
+ -1737.8, 46.9693,
+ -1584.89, 47.1357,
+ -1445.44, 47.2394,
+ -1318.26, 47.304,
+ -1202.26, 47.3447,
+ -1096.48, 47.3676,
+ -1000, 47.378,
+ -912.011, 47.3791,
+ -831.764, 47.3731,
+ -1, 47.3684,
+ 1, 47.3684,
+ 831.764, 47.3731,
+ 912.011, 47.3791,
+ 1000, 47.378,
+ 1096.48, 47.3676,
+ 1202.26, 47.3447,
+ 1318.26, 47.304,
+ 1445.44, 47.2394,
+ 1584.89, 47.1357,
+ 1737.8, 46.9693,
+ 1905.46, 46.6751,
+ 2089.3, 46.1233,
+ 2290.87, 45.3531,
+ 2511.89, 44.3031,
+ 2754.23, 42.8467,
+ 3019.95, 40.8086,
+ 3311.31, 37.9704,
+ 3630.78, 34.1456,
+ 3981.07, 29.3421,
+ 4365.16, 23.9446,
+ 4786.3, 18.6475,
+ 5248.07, 14.0765,
+ 5754.4, 10.4929,
+ 6309.57, 7.83544,
+ 6918.31, 5.90971,
+ 7585.78, 4.51757,
+ 8317.64, 3.50248,
+ 9120.11, 2.75223]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3F3_1900 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 1900
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 1900
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.510106,
+ -8317.64, 0.588525,
+ -7585.78, 0.678999,
+ -6918.31, 0.783382,
+ -6309.57, 0.903811,
+ -5754.4, 1.04275,
+ -5248.07, 1.20306,
+ -4786.3, 1.388,
+ -4365.16, 1.60138,
+ -3981.07, 1.84756,
+ -3630.78, 2.13159,
+ -3311.31, 2.45928,
+ -3019.95, 2.83734,
+ -2754.23, 3.27353,
+ -2511.89, 3.77677,
+ -2290.87, 4.35737,
+ -2089.3, 5.02723,
+ -1905.46, 5.80006,
+ -1737.8, 6.69171,
+ -1584.89, 7.72042,
+ -1445.44, 8.90729,
+ -1318.26, 10.2766,
+ -1202.26, 11.8564,
+ -1096.48, 13.6791,
+ -1000, 15.782,
+ -912.011, 18.2082,
+ -831.764, 21.0073,
+ -758.578, 24.2368,
+ -691.831, 27.9627,
+ -630.957, 32.2614,
+ -575.44, 37.221,
+ -524.807, 42.943,
+ -478.63, 49.5446,
+ -436.516, 57.1611,
+ -398.107, 65.9485,
+ -363.078, 76.0867,
+ -331.131, 87.7836,
+ -301.995, 101.279,
+ -275.423, 116.848,
+ -251.189, 134.811,
+ -229.087, 155.536,
+ -208.93, 179.446,
+ -190.546, 207.033,
+ -173.78, 238.86,
+ -158.489, 275.58,
+ -144.544, 317.945,
+ -131.826, 366.822,
+ -120.226, 423.214,
+ -109.648, 488.275,
+ -100, 563.337,
+ -91.2011, 649.939,
+ -83.1764, 749.854,
+ -75.8578, 865.129,
+ -69.1831, 1005.75,
+ -63.0957, 1192.71,
+ -57.544, 1352.79,
+ -52.4807, 1481.08,
+ -47.863, 1583.35,
+ -43.6516, 1664.37,
+ -39.8107, 1728.08,
+ -36.3078, 1777.7,
+ -33.1131, 1815.9,
+ -30.1995, 1844.88,
+ -27.5423, 1866.43,
+ -25.1189, 1882.03,
+ -22.9087, 1892.89,
+ -20.893, 1899.3,
+ -1, 1900,
+ 1, 1900,
+ 20.893, 1899.3,
+ 22.9087, 1892.89,
+ 25.1189, 1882.03,
+ 27.5423, 1866.43,
+ 30.1995, 1844.88,
+ 33.1131, 1815.9,
+ 36.3078, 1777.7,
+ 39.8107, 1728.08,
+ 43.6516, 1664.37,
+ 47.863, 1583.35,
+ 52.4807, 1481.08,
+ 57.544, 1352.79,
+ 63.0957, 1192.71,
+ 69.1831, 1005.75,
+ 75.8578, 865.129,
+ 83.1764, 749.854,
+ 91.2011, 649.939,
+ 100, 563.337,
+ 109.648, 488.275,
+ 120.226, 423.214,
+ 131.826, 366.822,
+ 144.544, 317.945,
+ 158.489, 275.58,
+ 173.78, 238.86,
+ 190.546, 207.033,
+ 208.93, 179.446,
+ 229.087, 155.536,
+ 251.189, 134.811,
+ 275.423, 116.848,
+ 301.995, 101.279,
+ 331.131, 87.7836,
+ 363.078, 76.0867,
+ 398.107, 65.9485,
+ 436.516, 57.1611,
+ 478.63, 49.5446,
+ 524.807, 42.943,
+ 575.44, 37.221,
+ 630.957, 32.2614,
+ 691.831, 27.9627,
+ 758.578, 24.2368,
+ 831.764, 21.0073,
+ 912.011, 18.2082,
+ 1000, 15.782,
+ 1096.48, 13.6791,
+ 1202.26, 11.8564,
+ 1318.26, 10.2766,
+ 1445.44, 8.90729,
+ 1584.89, 7.72042,
+ 1737.8, 6.69171,
+ 1905.46, 5.80006,
+ 2089.3, 5.02723,
+ 2290.87, 4.35737,
+ 2511.89, 3.77677,
+ 2754.23, 3.27353,
+ 3019.95, 2.83734,
+ 3311.31, 2.45928,
+ 3630.78, 2.13159,
+ 3981.07, 1.84756,
+ 4365.16, 1.60138,
+ 4786.3, 1.388,
+ 5248.07, 1.20306,
+ 5754.4, 1.04275,
+ 6309.57, 0.903811,
+ 6918.31, 0.783382,
+ 7585.78, 0.678999,
+ 8317.64, 0.588525,
+ 9120.11, 0.510106]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3F3_655 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 655
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 655
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.530687,
+ -8317.64, 0.61457,
+ -7585.78, 0.711964,
+ -6918.31, 0.825111,
+ -6309.57, 0.956643,
+ -5754.4, 1.10966,
+ -5248.07, 1.28779,
+ -4786.3, 1.49535,
+ -4365.16, 1.73741,
+ -3981.07, 2.01999,
+ -3630.78, 2.35021,
+ -3311.31, 2.73657,
+ -3019.95, 3.18919,
+ -2754.23, 3.72016,
+ -2511.89, 4.34397,
+ -2290.87, 5.07805,
+ -2089.3, 5.94341,
+ -1905.46, 6.96545,
+ -1737.8, 8.17501,
+ -1584.89, 9.60963,
+ -1445.44, 11.3152,
+ -1318.26, 13.3475,
+ -1202.26, 15.7766,
+ -1096.48, 18.6869,
+ -1000, 22.1841,
+ -912.011, 26.3986,
+ -831.764, 31.4923,
+ -758.578, 37.6657,
+ -691.831, 45.1662,
+ -630.957, 54.2979,
+ -575.44, 65.4301,
+ -524.807, 79.0036,
+ -478.63, 95.5306,
+ -436.516, 115.581,
+ -398.107, 139.746,
+ -363.078, 168.57,
+ -331.131, 202.439,
+ -301.995, 241.441,
+ -275.423, 285.216,
+ -251.189, 332.867,
+ -229.087, 382.989,
+ -208.93, 433.866,
+ -190.546, 483.954,
+ -173.78, 538.46,
+ -158.489, 576.868,
+ -144.544, 600.974,
+ -131.826, 617.189,
+ -120.226, 628.546,
+ -109.648, 636.715,
+ -100, 642.578,
+ -91.2011, 646.899,
+ -83.1764, 650.024,
+ -75.8578, 652.257,
+ -69.1831, 653.811,
+ -63.0957, 654.844,
+ -1, 655.172,
+ 1, 655.172,
+ 63.0957, 654.844,
+ 69.1831, 653.811,
+ 75.8578, 652.257,
+ 83.1764, 650.024,
+ 91.2011, 646.899,
+ 100, 642.578,
+ 109.648, 636.715,
+ 120.226, 628.546,
+ 131.826, 617.189,
+ 144.544, 600.974,
+ 158.489, 576.868,
+ 173.78, 538.46,
+ 190.546, 483.954,
+ 208.93, 433.866,
+ 229.087, 382.989,
+ 251.189, 332.867,
+ 275.423, 285.216,
+ 301.995, 241.441,
+ 331.131, 202.439,
+ 363.078, 168.57,
+ 398.107, 139.746,
+ 436.516, 115.581,
+ 478.63, 95.5306,
+ 524.807, 79.0036,
+ 575.44, 65.4301,
+ 630.957, 54.2979,
+ 691.831, 45.1662,
+ 758.578, 37.6657,
+ 831.764, 31.4923,
+ 912.011, 26.3986,
+ 1000, 22.1841,
+ 1096.48, 18.6869,
+ 1202.26, 15.7766,
+ 1318.26, 13.3475,
+ 1445.44, 11.3152,
+ 1584.89, 9.60963,
+ 1737.8, 8.17501,
+ 1905.46, 6.96545,
+ 2089.3, 5.94341,
+ 2290.87, 5.07805,
+ 2511.89, 4.34397,
+ 2754.23, 3.72016,
+ 3019.95, 3.18919,
+ 3311.31, 2.73657,
+ 3630.78, 2.35021,
+ 3981.07, 2.01999,
+ 4365.16, 1.73741,
+ 4786.3, 1.49535,
+ 5248.07, 1.28779,
+ 5754.4, 1.10966,
+ 6309.57, 0.956643,
+ 6918.31, 0.825111,
+ 7585.78, 0.711964,
+ 8317.64, 0.61457,
+ 9120.11, 0.530687]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3F3_395 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 395
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 395
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.552636,
+ -8317.64, 0.642517,
+ -7585.78, 0.747572,
+ -6918.31, 0.870516,
+ -6309.57, 1.01459,
+ -5754.4, 1.18368,
+ -5248.07, 1.38245,
+ -4786.3, 1.61652,
+ -4365.16, 1.89272,
+ -3981.07, 2.21928,
+ -3630.78, 2.60641,
+ -3311.31, 3.0664,
+ -3019.95, 3.61456,
+ -2754.23, 4.26978,
+ -2511.89, 5.05562,
+ -2290.87, 6.00155,
+ -2089.3, 7.14473,
+ -1905.46, 8.53219,
+ -1737.8, 10.2239,
+ -1584.89, 12.2968,
+ -1445.44, 14.8499,
+ -1318.26, 18.0113,
+ -1202.26, 21.9473,
+ -1096.48, 26.873,
+ -1000, 33.0662,
+ -912.011, 40.8805,
+ -831.764, 50.7562,
+ -758.578, 63.2177,
+ -691.831, 78.8442,
+ -630.957, 98.1878,
+ -575.44, 121.619,
+ -524.807, 149.103,
+ -478.63, 179.989,
+ -436.516, 212.943,
+ -398.107, 246.174,
+ -363.078, 277.878,
+ -331.131, 306.68,
+ -301.995, 332.71,
+ -275.423, 356.345,
+ -251.189, 369.982,
+ -229.087, 378.247,
+ -208.93, 383.687,
+ -190.546, 387.439,
+ -173.78, 390.113,
+ -158.489, 391.993,
+ -144.544, 393.378,
+ -131.826, 394.367,
+ -120.226, 395.061,
+ -109.648, 395.535,
+ -100, 395.807,
+ -1, 395.833,
+ 1, 395.833,
+ 100, 395.807,
+ 109.648, 395.535,
+ 120.226, 395.061,
+ 131.826, 394.367,
+ 144.544, 393.378,
+ 158.489, 391.993,
+ 173.78, 390.113,
+ 190.546, 387.439,
+ 208.93, 383.687,
+ 229.087, 378.247,
+ 251.189, 369.982,
+ 275.423, 356.345,
+ 301.995, 332.71,
+ 331.131, 306.68,
+ 363.078, 277.878,
+ 398.107, 246.174,
+ 436.516, 212.943,
+ 478.63, 179.989,
+ 524.807, 149.103,
+ 575.44, 121.619,
+ 630.957, 98.1878,
+ 691.831, 78.8442,
+ 758.578, 63.2177,
+ 831.764, 50.7562,
+ 912.011, 40.8805,
+ 1000, 33.0662,
+ 1096.48, 26.873,
+ 1202.26, 21.9473,
+ 1318.26, 18.0113,
+ 1445.44, 14.8499,
+ 1584.89, 12.2968,
+ 1737.8, 10.2239,
+ 1905.46, 8.53219,
+ 2089.3, 7.14473,
+ 2290.87, 6.00155,
+ 2511.89, 5.05562,
+ 2754.23, 4.26978,
+ 3019.95, 3.61456,
+ 3311.31, 3.0664,
+ 3630.78, 2.60641,
+ 3981.07, 2.21928,
+ 4365.16, 1.89272,
+ 4786.3, 1.61652,
+ 5248.07, 1.38245,
+ 5754.4, 1.18368,
+ 6309.57, 1.01459,
+ 6918.31, 0.870516,
+ 7585.78, 0.747572,
+ 8317.64, 0.642517,
+ 9120.11, 0.552636]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3F3_180 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 180
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 180
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.628048,
+ -8317.64, 0.739844,
+ -7585.78, 0.873452,
+ -6918.31, 1.03371,
+ -6309.57, 1.22671,
+ -5754.4, 1.46019,
+ -5248.07, 1.74407,
+ -4786.3, 2.09115,
+ -4365.16, 2.51817,
+ -3981.07, 3.04717,
+ -3630.78, 3.7076,
+ -3311.31, 4.53919,
+ -3019.95, 5.59625,
+ -2754.23, 6.95391,
+ -2511.89, 8.71723,
+ -2290.87, 11.0345,
+ -2089.3, 14.1155,
+ -1905.46, 18.2571,
+ -1737.8, 23.867,
+ -1584.89, 31.4763,
+ -1445.44, 41.6917,
+ -1318.26, 55.0097,
+ -1202.26, 71.4366,
+ -1096.48, 90.0668,
+ -1000, 109.098,
+ -912.011, 126.569,
+ -831.764, 141.224,
+ -758.578, 152.79,
+ -691.831, 161.616,
+ -630.957, 168.769,
+ -575.44, 173.712,
+ -524.807, 176.256,
+ -478.63, 177.786,
+ -436.516, 178.787,
+ -398.107, 179.474,
+ -363.078, 179.964,
+ -331.131, 180.298,
+ -301.995, 180.549,
+ -275.423, 180.724,
+ -251.189, 180.845,
+ -229.087, 180.926,
+ -1, 180.952,
+ 1, 180.952,
+ 229.087, 180.926,
+ 251.189, 180.845,
+ 275.423, 180.724,
+ 301.995, 180.549,
+ 331.131, 180.298,
+ 363.078, 179.964,
+ 398.107, 179.474,
+ 436.516, 178.787,
+ 478.63, 177.786,
+ 524.807, 176.256,
+ 575.44, 173.712,
+ 630.957, 168.769,
+ 691.831, 161.616,
+ 758.578, 152.79,
+ 831.764, 141.224,
+ 912.011, 126.569,
+ 1000, 109.098,
+ 1096.48, 90.0668,
+ 1202.26, 71.4366,
+ 1318.26, 55.0097,
+ 1445.44, 41.6917,
+ 1584.89, 31.4763,
+ 1737.8, 23.867,
+ 1905.46, 18.2571,
+ 2089.3, 14.1155,
+ 2290.87, 11.0345,
+ 2511.89, 8.71723,
+ 2754.23, 6.95391,
+ 3019.95, 5.59625,
+ 3311.31, 4.53919,
+ 3630.78, 3.7076,
+ 3981.07, 3.04717,
+ 4365.16, 2.51817,
+ 4786.3, 2.09115,
+ 5248.07, 1.74407,
+ 5754.4, 1.46019,
+ 6309.57, 1.22671,
+ 6918.31, 1.03371,
+ 7585.78, 0.873452,
+ 8317.64, 0.739844,
+ 9120.11, 0.628048]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3F3_95 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 95
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 95
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.796648,
+ -8317.64, 0.964507,
+ -7585.78, 1.17464,
+ -6918.31, 1.44026,
+ -6309.57, 1.77977,
+ -5754.4, 2.21926,
+ -5248.07, 2.79635,
+ -4786.3, 3.56675,
+ -4365.16, 4.61405,
+ -3981.07, 6.06668,
+ -3630.78, 8.12414,
+ -3311.31, 11.0956,
+ -3019.95, 15.4429,
+ -2754.23, 21.7765,
+ -2511.89, 30.6566,
+ -2290.87, 42.012,
+ -2089.3, 54.5104,
+ -1905.46, 66.0228,
+ -1737.8, 75.1053,
+ -1584.89, 81.607,
+ -1445.44, 86.0738,
+ -1318.26, 89.1376,
+ -1202.26, 91.4015,
+ -1096.48, 92.9233,
+ -1000, 93.6726,
+ -912.011, 94.1127,
+ -831.764, 94.3963,
+ -758.578, 94.5892,
+ -691.831, 94.7242,
+ -630.957, 94.821,
+ -575.44, 94.8879,
+ -524.807, 94.9368,
+ -478.63, 94.9703,
+ -436.516, 94.9925,
+ -1, 95,
+ 1, 95,
+ 436.516, 94.9925,
+ 478.63, 94.9703,
+ 524.807, 94.9368,
+ 575.44, 94.8879,
+ 630.957, 94.821,
+ 691.831, 94.7242,
+ 758.578, 94.5892,
+ 831.764, 94.3963,
+ 912.011, 94.1127,
+ 1000, 93.6726,
+ 1096.48, 92.9233,
+ 1202.26, 91.4015,
+ 1318.26, 89.1376,
+ 1445.44, 86.0738,
+ 1584.89, 81.607,
+ 1737.8, 75.1053,
+ 1905.46, 66.0228,
+ 2089.3, 54.5104,
+ 2290.87, 42.012,
+ 2511.89, 30.6566,
+ 2754.23, 21.7765,
+ 3019.95, 15.4429,
+ 3311.31, 11.0956,
+ 3630.78, 8.12414,
+ 3981.07, 6.06668,
+ 4365.16, 4.61405,
+ 4786.3, 3.56675,
+ 5248.07, 2.79635,
+ 5754.4, 2.21926,
+ 6309.57, 1.77977,
+ 6918.31, 1.44026,
+ 7585.78, 1.17464,
+ 8317.64, 0.964507,
+ 9120.11, 0.796648]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3F3_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.46015,
+ -8317.64, 1.93354,
+ -7585.78, 2.62101,
+ -6918.31, 3.65418,
+ -6309.57, 5.26414,
+ -5754.4, 7.84991,
+ -5248.07, 12.0187,
+ -4786.3, 18.3176,
+ -4365.16, 26.2719,
+ -3981.07, 33.8899,
+ -3630.78, 39.486,
+ -3311.31, 43.0071,
+ -3019.95, 45.13,
+ -2754.23, 46.4319,
+ -2511.89, 47.2656,
+ -2290.87, 47.871,
+ -2089.3, 48.2242,
+ -1905.46, 48.3996,
+ -1737.8, 48.5047,
+ -1584.89, 48.573,
+ -1445.44, 48.6197,
+ -1318.26, 48.6524,
+ -1202.26, 48.676,
+ -1096.48, 48.692,
+ -1000, 48.7038,
+ -912.011, 48.7119,
+ -831.764, 48.7169,
+ -1, 48.7179,
+ 1, 48.7179,
+ 831.764, 48.7169,
+ 912.011, 48.7119,
+ 1000, 48.7038,
+ 1096.48, 48.692,
+ 1202.26, 48.676,
+ 1318.26, 48.6524,
+ 1445.44, 48.6197,
+ 1584.89, 48.573,
+ 1737.8, 48.5047,
+ 1905.46, 48.3996,
+ 2089.3, 48.2242,
+ 2290.87, 47.871,
+ 2511.89, 47.2656,
+ 2754.23, 46.4319,
+ 3019.95, 45.13,
+ 3311.31, 43.0071,
+ 3630.78, 39.486,
+ 3981.07, 33.8899,
+ 4365.16, 26.2719,
+ 4786.3, 18.3176,
+ 5248.07, 12.0187,
+ 5754.4, 7.84991,
+ 6309.57, 5.26414,
+ 6918.31, 3.65418,
+ 7585.78, 2.62101,
+ 8317.64, 1.93354,
+ 9120.11, 1.46015]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3C90_2000 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 2000
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 2000
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.868586,
+ -8317.64, 0.990436,
+ -7585.78, 1.12938,
+ -6918.31, 1.28781,
+ -6309.57, 1.46848,
+ -5754.4, 1.67448,
+ -5248.07, 1.90938,
+ -4786.3, 2.17724,
+ -4365.16, 2.48268,
+ -3981.07, 2.83096,
+ -3630.78, 3.2281,
+ -3311.31, 3.68095,
+ -3019.95, 4.19734,
+ -2754.23, 4.78616,
+ -2511.89, 5.45759,
+ -2290.87, 6.2232,
+ -2089.3, 7.09622,
+ -1905.46, 8.09172,
+ -1737.8, 9.22687,
+ -1584.89, 10.5213,
+ -1445.44, 11.9972,
+ -1318.26, 13.6803,
+ -1202.26, 15.5994,
+ -1096.48, 17.7878,
+ -1000, 20.2831,
+ -912.011, 23.1285,
+ -831.764, 26.3731,
+ -758.578, 30.0729,
+ -691.831, 34.2916,
+ -630.957, 39.1022,
+ -575.44, 44.5877,
+ -524.807, 50.8427,
+ -478.63, 57.9751,
+ -436.516, 66.1082,
+ -398.107, 75.3822,
+ -363.078, 85.9571,
+ -331.131, 98.0156,
+ -301.995, 111.766,
+ -275.423, 127.445,
+ -251.189, 145.323,
+ -229.087, 165.71,
+ -208.93, 188.957,
+ -190.546, 215.465,
+ -173.78, 245.691,
+ -158.489, 280.158,
+ -144.544, 319.46,
+ -131.826, 364.275,
+ -120.226, 415.377,
+ -109.648, 473.649,
+ -100, 540.094,
+ -91.2011, 615.861,
+ -83.1764, 702.257,
+ -75.8578, 800.774,
+ -69.1831, 913.11,
+ -63.0957, 1043.4,
+ -57.544, 1177.03,
+ -52.4807, 1295.72,
+ -47.863, 1401.07,
+ -43.6516, 1494.73,
+ -39.8107, 1578.14,
+ -36.3078, 1652.54,
+ -33.1131, 1719.01,
+ -30.1995, 1778.47,
+ -27.5423, 1831.74,
+ -25.1189, 1879.52,
+ -22.9087, 1922.43,
+ -20.893, 1961.01,
+ -19.0546, 1993.48,
+ -1, 2000,
+ 1, 2000,
+ 19.0546, 1993.48,
+ 20.893, 1961.01,
+ 22.9087, 1922.43,
+ 25.1189, 1879.52,
+ 27.5423, 1831.74,
+ 30.1995, 1778.47,
+ 33.1131, 1719.01,
+ 36.3078, 1652.54,
+ 39.8107, 1578.14,
+ 43.6516, 1494.73,
+ 47.863, 1401.07,
+ 52.4807, 1295.72,
+ 57.544, 1177.03,
+ 63.0957, 1043.4,
+ 69.1831, 913.11,
+ 75.8578, 800.774,
+ 83.1764, 702.257,
+ 91.2011, 615.861,
+ 100, 540.094,
+ 109.648, 473.649,
+ 120.226, 415.377,
+ 131.826, 364.275,
+ 144.544, 319.46,
+ 158.489, 280.158,
+ 173.78, 245.691,
+ 190.546, 215.465,
+ 208.93, 188.957,
+ 229.087, 165.71,
+ 251.189, 145.323,
+ 275.423, 127.445,
+ 301.995, 111.766,
+ 331.131, 98.0156,
+ 363.078, 85.9571,
+ 398.107, 75.3822,
+ 436.516, 66.1082,
+ 478.63, 57.9751,
+ 524.807, 50.8427,
+ 575.44, 44.5877,
+ 630.957, 39.1022,
+ 691.831, 34.2916,
+ 758.578, 30.0729,
+ 831.764, 26.3731,
+ 912.011, 23.1285,
+ 1000, 20.2831,
+ 1096.48, 17.7878,
+ 1202.26, 15.5994,
+ 1318.26, 13.6803,
+ 1445.44, 11.9972,
+ 1584.89, 10.5213,
+ 1737.8, 9.22687,
+ 1905.46, 8.09172,
+ 2089.3, 7.09622,
+ 2290.87, 6.2232,
+ 2511.89, 5.45759,
+ 2754.23, 4.78616,
+ 3019.95, 4.19734,
+ 3311.31, 3.68095,
+ 3630.78, 3.2281,
+ 3981.07, 2.83096,
+ 4365.16, 2.48268,
+ 4786.3, 2.17724,
+ 5248.07, 1.90938,
+ 5754.4, 1.67448,
+ 6309.57, 1.46848,
+ 6918.31, 1.28781,
+ 7585.78, 1.12938,
+ 8317.64, 0.990436,
+ 9120.11, 0.868586]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3C90_666 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 666
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 666
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.901685,
+ -8317.64, 1.03176,
+ -7585.78, 1.18099,
+ -6918.31, 1.35227,
+ -6309.57, 1.54898,
+ -5754.4, 1.77504,
+ -5248.07, 2.035,
+ -4786.3, 2.3342,
+ -4365.16, 2.67881,
+ -3981.07, 3.07611,
+ -3630.78, 3.53456,
+ -3311.31, 4.06415,
+ -3019.95, 4.6766,
+ -2754.23, 5.38575,
+ -2511.89, 6.20792,
+ -2290.87, 7.16248,
+ -2089.3, 8.27245,
+ -1905.46, 9.5652,
+ -1737.8, 11.0735,
+ -1584.89, 12.8361,
+ -1445.44, 14.9009,
+ -1318.26, 17.3238,
+ -1202.26, 20.1733,
+ -1096.48, 23.5319,
+ -1000, 27.4994,
+ -912.011, 32.1968,
+ -831.764, 37.7705,
+ -758.578, 44.3972,
+ -691.831, 52.2897,
+ -630.957, 61.702,
+ -575.44, 72.9339,
+ -524.807, 86.3333,
+ -478.63, 102.293,
+ -436.516, 121.24,
+ -398.107, 143.607,
+ -363.078, 169.793,
+ -331.131, 200.09,
+ -301.995, 234.601,
+ -275.423, 273.148,
+ -251.189, 315.198,
+ -229.087, 359.849,
+ -208.93, 405.902,
+ -190.546, 452.003,
+ -173.78, 497.126,
+ -158.489, 537.61,
+ -144.544, 566.977,
+ -131.826, 588.703,
+ -120.226, 605.434,
+ -109.648, 618.697,
+ -100, 629.447,
+ -91.2011, 638.31,
+ -83.1764, 645.752,
+ -75.8578, 651.959,
+ -69.1831, 657.327,
+ -63.0957, 661.934,
+ -57.544, 665.757,
+ -1, 666.667,
+ 1, 666.667,
+ 57.544, 665.757,
+ 63.0957, 661.934,
+ 69.1831, 657.327,
+ 75.8578, 651.959,
+ 83.1764, 645.752,
+ 91.2011, 638.31,
+ 100, 629.447,
+ 109.648, 618.697,
+ 120.226, 605.434,
+ 131.826, 588.703,
+ 144.544, 566.977,
+ 158.489, 537.61,
+ 173.78, 497.126,
+ 190.546, 452.003,
+ 208.93, 405.902,
+ 229.087, 359.849,
+ 251.189, 315.198,
+ 275.423, 273.148,
+ 301.995, 234.601,
+ 331.131, 200.09,
+ 363.078, 169.793,
+ 398.107, 143.607,
+ 436.516, 121.24,
+ 478.63, 102.293,
+ 524.807, 86.3333,
+ 575.44, 72.9339,
+ 630.957, 61.702,
+ 691.831, 52.2897,
+ 758.578, 44.3972,
+ 831.764, 37.7705,
+ 912.011, 32.1968,
+ 1000, 27.4994,
+ 1096.48, 23.5319,
+ 1202.26, 20.1733,
+ 1318.26, 17.3238,
+ 1445.44, 14.9009,
+ 1584.89, 12.8361,
+ 1737.8, 11.0735,
+ 1905.46, 9.5652,
+ 2089.3, 8.27245,
+ 2290.87, 7.16248,
+ 2511.89, 6.20792,
+ 2754.23, 5.38575,
+ 3019.95, 4.6766,
+ 3311.31, 4.06415,
+ 3630.78, 3.53456,
+ 3981.07, 3.07611,
+ 4365.16, 2.67881,
+ 4786.3, 2.3342,
+ 5248.07, 2.035,
+ 5754.4, 1.77504,
+ 6309.57, 1.54898,
+ 6918.31, 1.35227,
+ 7585.78, 1.18099,
+ 8317.64, 1.03176,
+ 9120.11, 0.901685]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3C90_400 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 400
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 400
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.936901,
+ -8317.64, 1.07599,
+ -7585.78, 1.23656,
+ -6918.31, 1.42215,
+ -6309.57, 1.6369,
+ -5754.4, 1.88576,
+ -5248.07, 2.17452,
+ -4786.3, 2.51022,
+ -4365.16, 2.90109,
+ -3981.07, 3.3571,
+ -3630.78, 3.89021,
+ -3311.31, 4.51487,
+ -3019.95, 5.24862,
+ -2754.23, 6.11279,
+ -2511.89, 7.13351,
+ -2290.87, 8.3429,
+ -2089.3, 9.78061,
+ -1905.46, 11.4958,
+ -1737.8, 13.5499,
+ -1584.89, 16.0194,
+ -1445.44, 19.0004,
+ -1318.26, 22.6138,
+ -1202.26, 27.0111,
+ -1096.48, 32.3821,
+ -1000, 38.9622,
+ -912.011, 47.0393,
+ -831.764, 56.956,
+ -758.578, 69.1021,
+ -691.831, 83.889,
+ -630.957, 101.693,
+ -575.44, 122.758,
+ -524.807, 147.072,
+ -478.63, 174.231,
+ -436.516, 203.389,
+ -398.107, 233.331,
+ -363.078, 262.707,
+ -331.131, 290.313,
+ -301.995, 315.306,
+ -275.423, 337.429,
+ -251.189, 354.353,
+ -229.087, 365.588,
+ -208.93, 373.609,
+ -190.546, 379.627,
+ -173.78, 384.31,
+ -158.489, 388.052,
+ -144.544, 391.104,
+ -131.826, 393.65,
+ -120.226, 395.742,
+ -109.648, 397.557,
+ -100, 399.103,
+ -91.2011, 399.986,
+ -1, 400,
+ 1, 400,
+ 91.2011, 399.986,
+ 100, 399.103,
+ 109.648, 397.557,
+ 120.226, 395.742,
+ 131.826, 393.65,
+ 144.544, 391.104,
+ 158.489, 388.052,
+ 173.78, 384.31,
+ 190.546, 379.627,
+ 208.93, 373.609,
+ 229.087, 365.588,
+ 251.189, 354.353,
+ 275.423, 337.429,
+ 301.995, 315.306,
+ 331.131, 290.313,
+ 363.078, 262.707,
+ 398.107, 233.331,
+ 436.516, 203.389,
+ 478.63, 174.231,
+ 524.807, 147.072,
+ 575.44, 122.758,
+ 630.957, 101.693,
+ 691.831, 83.889,
+ 758.578, 69.1021,
+ 831.764, 56.956,
+ 912.011, 47.0393,
+ 1000, 38.9622,
+ 1096.48, 32.3821,
+ 1202.26, 27.0111,
+ 1318.26, 22.6138,
+ 1445.44, 19.0004,
+ 1584.89, 16.0194,
+ 1737.8, 13.5499,
+ 1905.46, 11.4958,
+ 2089.3, 9.78061,
+ 2290.87, 8.3429,
+ 2511.89, 7.13351,
+ 2754.23, 6.11279,
+ 3019.95, 5.24862,
+ 3311.31, 4.51487,
+ 3630.78, 3.89021,
+ 3981.07, 3.3571,
+ 4365.16, 2.90109,
+ 4786.3, 2.51022,
+ 5248.07, 2.17452,
+ 5754.4, 1.88576,
+ 6309.57, 1.6369,
+ 6918.31, 1.42215,
+ 7585.78, 1.23656,
+ 8317.64, 1.07599,
+ 9120.11, 0.936901]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3C90_181 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 181
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 181
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.05726,
+ -8317.64, 1.22907,
+ -7585.78, 1.43162,
+ -6918.31, 1.6712,
+ -6309.57, 1.95562,
+ -5754.4, 2.29464,
+ -5248.07, 2.70056,
+ -4786.3, 3.18896,
+ -4365.16, 3.77983,
+ -3981.07, 4.49892,
+ -3630.78, 5.37983,
+ -3311.31, 6.46669,
+ -3019.95, 7.81805,
+ -2754.23, 9.51214,
+ -2511.89, 11.6542,
+ -2290.87, 14.3856,
+ -2089.3, 17.8975,
+ -1905.46, 22.4412,
+ -1737.8, 28.3388,
+ -1584.89, 35.9737,
+ -1445.44, 45.7388,
+ -1318.26, 57.907,
+ -1202.26, 72.4141,
+ -1096.48, 88.6439,
+ -1000, 105.425,
+ -912.011, 121.382,
+ -831.764, 135.443,
+ -758.578, 147.114,
+ -691.831, 156.437,
+ -630.957, 163.727,
+ -575.44, 169.362,
+ -524.807, 172.959,
+ -478.63, 175.242,
+ -436.516, 176.845,
+ -398.107, 178.031,
+ -363.078, 178.945,
+ -331.131, 179.671,
+ -301.995, 180.26,
+ -275.423, 180.751,
+ -251.189, 181.149,
+ -229.087, 181.497,
+ -208.93, 181.77,
+ -1, 181.818,
+ 1, 181.818,
+ 208.93, 181.77,
+ 229.087, 181.497,
+ 251.189, 181.149,
+ 275.423, 180.751,
+ 301.995, 180.26,
+ 331.131, 179.671,
+ 363.078, 178.945,
+ 398.107, 178.031,
+ 436.516, 176.845,
+ 478.63, 175.242,
+ 524.807, 172.959,
+ 575.44, 169.362,
+ 630.957, 163.727,
+ 691.831, 156.437,
+ 758.578, 147.114,
+ 831.764, 135.443,
+ 912.011, 121.382,
+ 1000, 105.425,
+ 1096.48, 88.6439,
+ 1202.26, 72.4141,
+ 1318.26, 57.907,
+ 1445.44, 45.7388,
+ 1584.89, 35.9737,
+ 1737.8, 28.3388,
+ 1905.46, 22.4412,
+ 2089.3, 17.8975,
+ 2290.87, 14.3856,
+ 2511.89, 11.6542,
+ 2754.23, 9.51214,
+ 3019.95, 7.81805,
+ 3311.31, 6.46669,
+ 3630.78, 5.37983,
+ 3981.07, 4.49892,
+ 4365.16, 3.77983,
+ 4786.3, 3.18896,
+ 5248.07, 2.70056,
+ 5754.4, 2.29464,
+ 6309.57, 1.95562,
+ 6918.31, 1.6712,
+ 7585.78, 1.43162,
+ 8317.64, 1.22907,
+ 9120.11, 1.05726]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3C90_95 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 95
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 95
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.32309,
+ -8317.64, 1.57731,
+ -7585.78, 1.89022,
+ -6918.31, 2.27871,
+ -6309.57, 2.76568,
+ -5754.4, 3.3828,
+ -5248.07, 4.17424,
+ -4786.3, 5.20273,
+ -4365.16, 6.55841,
+ -3981.07, 8.37169,
+ -3630.78, 10.8309,
+ -3311.31, 14.2019,
+ -3019.95, 18.8358,
+ -2754.23, 25.125,
+ -2511.89, 33.3338,
+ -2290.87, 43.268,
+ -2089.3, 54.009,
+ -1905.46, 64.1802,
+ -1737.8, 72.698,
+ -1584.89, 79.2227,
+ -1445.44, 83.9811,
+ -1318.26, 87.3878,
+ -1202.26, 89.8369,
+ -1096.48, 91.6169,
+ -1000, 92.7161,
+ -912.011, 93.3906,
+ -831.764, 93.8506,
+ -758.578, 94.1877,
+ -691.831, 94.4448,
+ -630.957, 94.6474,
+ -575.44, 94.8108,
+ -524.807, 94.9479,
+ -478.63, 95.0546,
+ -436.516, 95.1515,
+ -398.107, 95.2257,
+ -1, 95.2381,
+ 1, 95.2381,
+ 398.107, 95.2257,
+ 436.516, 95.1515,
+ 478.63, 95.0546,
+ 524.807, 94.9479,
+ 575.44, 94.8108,
+ 630.957, 94.6474,
+ 691.831, 94.4448,
+ 758.578, 94.1877,
+ 831.764, 93.8506,
+ 912.011, 93.3906,
+ 1000, 92.7161,
+ 1096.48, 91.6169,
+ 1202.26, 89.8369,
+ 1318.26, 87.3878,
+ 1445.44, 83.9811,
+ 1584.89, 79.2227,
+ 1737.8, 72.698,
+ 1905.46, 64.1802,
+ 2089.3, 54.009,
+ 2290.87, 43.268,
+ 2511.89, 33.3338,
+ 2754.23, 25.125,
+ 3019.95, 18.8358,
+ 3311.31, 14.2019,
+ 3630.78, 10.8309,
+ 3981.07, 8.37169,
+ 4365.16, 6.55841,
+ 4786.3, 5.20273,
+ 5248.07, 4.17424,
+ 5754.4, 3.3828,
+ 6309.57, 2.76568,
+ 6918.31, 2.27871,
+ 7585.78, 1.89022,
+ 8317.64, 1.57731,
+ 9120.11, 1.32309]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3C90_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.3311,
+ -8317.64, 3.00881,
+ -7585.78, 3.9573,
+ -6918.31, 5.31729,
+ -6309.57, 7.30959,
+ -5754.4, 10.2577,
+ -5248.07, 14.5426,
+ -4786.3, 20.3347,
+ -4365.16, 27.0967,
+ -3981.07, 33.5455,
+ -3630.78, 38.6012,
+ -3311.31, 42.0793,
+ -3019.95, 44.3416,
+ -2754.23, 45.807,
+ -2511.89, 46.7764,
+ -2290.87, 47.4377,
+ -2089.3, 47.8945,
+ -1905.46, 48.1598,
+ -1737.8, 48.3251,
+ -1584.89, 48.4385,
+ -1445.44, 48.5223,
+ -1318.26, 48.5864,
+ -1202.26, 48.6371,
+ -1096.48, 48.678,
+ -1000, 48.7127,
+ -912.011, 48.739,
+ -831.764, 48.7637,
+ -758.578, 48.7796,
+ -1, 48.7805,
+ 1, 48.7805,
+ 758.578, 48.7796,
+ 831.764, 48.7637,
+ 912.011, 48.739,
+ 1000, 48.7127,
+ 1096.48, 48.678,
+ 1202.26, 48.6371,
+ 1318.26, 48.5864,
+ 1445.44, 48.5223,
+ 1584.89, 48.4385,
+ 1737.8, 48.3251,
+ 1905.46, 48.1598,
+ 2089.3, 47.8945,
+ 2290.87, 47.4377,
+ 2511.89, 46.7764,
+ 2754.23, 45.807,
+ 3019.95, 44.3416,
+ 3311.31, 42.0793,
+ 3630.78, 38.6012,
+ 3981.07, 33.5455,
+ 4365.16, 27.0967,
+ 4786.3, 20.3347,
+ 5248.07, 14.5426,
+ 5754.4, 10.2577,
+ 6309.57, 7.30959,
+ 6918.31, 5.31729,
+ 7585.78, 3.9573,
+ 8317.64, 3.00881,
+ 9120.11, 2.3311]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3C85_2000 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 2000
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 2000
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.834924,
+ -8317.64, 0.952753,
+ -7585.78, 1.08721,
+ -6918.31, 1.24064,
+ -6309.57, 1.41573,
+ -5754.4, 1.61552,
+ -5248.07, 1.84351,
+ -4786.3, 2.10368,
+ -4365.16, 2.40056,
+ -3981.07, 2.73934,
+ -3630.78, 3.12592,
+ -3311.31, 3.56707,
+ -3019.95, 4.07047,
+ -2754.23, 4.64492,
+ -2511.89, 5.30043,
+ -2290.87, 6.04845,
+ -2089.3, 6.90204,
+ -1905.46, 7.87609,
+ -1737.8, 8.9876,
+ -1584.89, 10.256,
+ -1445.44, 11.7033,
+ -1318.26, 13.355,
+ -1202.26, 15.2397,
+ -1096.48, 17.3904,
+ -1000, 19.8446,
+ -912.011, 22.6452,
+ -831.764, 25.841,
+ -758.578, 29.4878,
+ -691.831, 33.6492,
+ -630.957, 38.398,
+ -575.44, 43.8169,
+ -524.807, 50.0005,
+ -478.63, 57.0568,
+ -436.516, 65.109,
+ -398.107, 74.2974,
+ -363.078, 84.7827,
+ -331.131, 96.7476,
+ -301.995, 110.401,
+ -275.423, 125.981,
+ -251.189, 143.761,
+ -229.087, 164.049,
+ -208.93, 187.2,
+ -190.546, 213.619,
+ -173.78, 243.765,
+ -158.489, 278.167,
+ -144.544, 317.423,
+ -131.826, 362.219,
+ -120.226, 413.337,
+ -109.648, 471.67,
+ -100, 538.234,
+ -91.2011, 614.192,
+ -83.1764, 700.87,
+ -75.8578, 799.78,
+ -69.1831, 912.649,
+ -63.0957, 1068.06,
+ -57.544, 1263.48,
+ -52.4807, 1423.82,
+ -47.863, 1553.67,
+ -43.6516, 1658.48,
+ -39.8107, 1742.74,
+ -36.3078, 1810.16,
+ -33.1131, 1863.82,
+ -30.1995, 1906.23,
+ -27.5423, 1939.5,
+ -25.1189, 1965.32,
+ -22.9087, 1985.13,
+ -20.893, 1998.43,
+ -1, 2000,
+ 1, 2000,
+ 20.893, 1998.43,
+ 22.9087, 1985.13,
+ 25.1189, 1965.32,
+ 27.5423, 1939.5,
+ 30.1995, 1906.23,
+ 33.1131, 1863.82,
+ 36.3078, 1810.16,
+ 39.8107, 1742.74,
+ 43.6516, 1658.48,
+ 47.863, 1553.67,
+ 52.4807, 1423.82,
+ 57.544, 1263.48,
+ 63.0957, 1068.06,
+ 69.1831, 912.649,
+ 75.8578, 799.78,
+ 83.1764, 700.87,
+ 91.2011, 614.192,
+ 100, 538.234,
+ 109.648, 471.67,
+ 120.226, 413.337,
+ 131.826, 362.219,
+ 144.544, 317.423,
+ 158.489, 278.167,
+ 173.78, 243.765,
+ 190.546, 213.619,
+ 208.93, 187.2,
+ 229.087, 164.049,
+ 251.189, 143.761,
+ 275.423, 125.981,
+ 301.995, 110.401,
+ 331.131, 96.7476,
+ 363.078, 84.7827,
+ 398.107, 74.2974,
+ 436.516, 65.109,
+ 478.63, 57.0568,
+ 524.807, 50.0005,
+ 575.44, 43.8169,
+ 630.957, 38.398,
+ 691.831, 33.6492,
+ 758.578, 29.4878,
+ 831.764, 25.841,
+ 912.011, 22.6452,
+ 1000, 19.8446,
+ 1096.48, 17.3904,
+ 1202.26, 15.2397,
+ 1318.26, 13.355,
+ 1445.44, 11.7033,
+ 1584.89, 10.256,
+ 1737.8, 8.9876,
+ 1905.46, 7.87609,
+ 2089.3, 6.90204,
+ 2290.87, 6.04845,
+ 2511.89, 5.30043,
+ 2754.23, 4.64492,
+ 3019.95, 4.07047,
+ 3311.31, 3.56707,
+ 3630.78, 3.12592,
+ 3981.07, 2.73934,
+ 4365.16, 2.40056,
+ 4786.3, 2.10368,
+ 5248.07, 1.84351,
+ 5754.4, 1.61552,
+ 6309.57, 1.41573,
+ 6918.31, 1.24064,
+ 7585.78, 1.08721,
+ 8317.64, 0.952753,
+ 9120.11, 0.834924]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3C85_666 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 666
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 666
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.867434,
+ -8317.64, 0.993388,
+ -7585.78, 1.13801,
+ -6918.31, 1.30415,
+ -6309.57, 1.49513,
+ -5754.4, 1.71481,
+ -5248.07, 1.96768,
+ -4786.3, 2.25899,
+ -4365.16, 2.59487,
+ -3981.07, 2.98249,
+ -3630.78, 3.43026,
+ -3311.31, 3.94807,
+ -3019.95, 4.5476,
+ -2754.23, 5.24261,
+ -2511.89, 6.0494,
+ -2290.87, 6.98734,
+ -2089.3, 8.07947,
+ -1905.46, 9.3533,
+ -1737.8, 10.8418,
+ -1584.89, 12.5842,
+ -1445.44, 14.6288,
+ -1318.26, 17.0325,
+ -1202.26, 19.865,
+ -1096.48, 23.2107,
+ -1000, 27.1722,
+ -912.011, 31.8742,
+ -831.764, 37.4683,
+ -758.578, 44.1386,
+ -691.831, 52.1079,
+ -630.957, 61.6435,
+ -575.44, 73.063,
+ -524.807, 86.7373,
+ -478.63, 103.087,
+ -436.516, 122.573,
+ -398.107, 145.663,
+ -363.078, 172.788,
+ -331.131, 204.26,
+ -301.995, 240.179,
+ -275.423, 280.324,
+ -251.189, 324.078,
+ -229.087, 370.419,
+ -208.93, 418.007,
+ -190.546, 465.4,
+ -173.78, 517.529,
+ -158.489, 567.759,
+ -144.544, 598.394,
+ -131.826, 618.504,
+ -120.226, 632.464,
+ -109.648, 642.563,
+ -100, 649.815,
+ -91.2011, 655.337,
+ -83.1764, 659.46,
+ -75.8578, 662.55,
+ -69.1831, 664.859,
+ -63.0957, 666.434,
+ -1, 666.667,
+ 1, 666.667,
+ 63.0957, 666.434,
+ 69.1831, 664.859,
+ 75.8578, 662.55,
+ 83.1764, 659.46,
+ 91.2011, 655.337,
+ 100, 649.815,
+ 109.648, 642.563,
+ 120.226, 632.464,
+ 131.826, 618.504,
+ 144.544, 598.394,
+ 158.489, 567.759,
+ 173.78, 517.529,
+ 190.546, 465.4,
+ 208.93, 418.007,
+ 229.087, 370.419,
+ 251.189, 324.078,
+ 275.423, 280.324,
+ 301.995, 240.179,
+ 331.131, 204.26,
+ 363.078, 172.788,
+ 398.107, 145.663,
+ 436.516, 122.573,
+ 478.63, 103.087,
+ 524.807, 86.7373,
+ 575.44, 73.063,
+ 630.957, 61.6435,
+ 691.831, 52.1079,
+ 758.578, 44.1386,
+ 831.764, 37.4683,
+ 912.011, 31.8742,
+ 1000, 27.1722,
+ 1096.48, 23.2107,
+ 1202.26, 19.865,
+ 1318.26, 17.0325,
+ 1445.44, 14.6288,
+ 1584.89, 12.5842,
+ 1737.8, 10.8418,
+ 1905.46, 9.3533,
+ 2089.3, 8.07947,
+ 2290.87, 6.98734,
+ 2511.89, 6.0494,
+ 2754.23, 5.24261,
+ 3019.95, 4.5476,
+ 3311.31, 3.94807,
+ 3630.78, 3.43026,
+ 3981.07, 2.98249,
+ 4365.16, 2.59487,
+ 4786.3, 2.25899,
+ 5248.07, 1.96768,
+ 5754.4, 1.71481,
+ 6309.57, 1.49513,
+ 6918.31, 1.30415,
+ 7585.78, 1.13801,
+ 8317.64, 0.993388,
+ 9120.11, 0.867434]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3C85_400 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 400
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 400
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.90207,
+ -8317.64, 1.03694,
+ -7585.78, 1.19279,
+ -6918.31, 1.37312,
+ -6309.57, 1.58202,
+ -5754.4, 1.82438,
+ -5248.07, 2.10594,
+ -4786.3, 2.43367,
+ -4365.16, 2.81577,
+ -3981.07, 3.26217,
+ -3630.78, 3.78481,
+ -3311.31, 4.39817,
+ -3019.95, 5.11984,
+ -2754.23, 5.97131,
+ -2511.89, 6.97898,
+ -2290.87, 8.17537,
+ -2089.3, 9.60084,
+ -1905.46, 11.3056,
+ -1737.8, 13.3527,
+ -1584.89, 15.8209,
+ -1445.44, 18.8101,
+ -1318.26, 22.4461,
+ -1202.26, 26.8881,
+ -1096.48, 32.3367,
+ -1000, 39.0425,
+ -912.011, 47.3143,
+ -831.764, 57.522,
+ -758.578, 70.0892,
+ -691.831, 85.4636,
+ -630.957, 104.052,
+ -575.44, 126.107,
+ -524.807, 151.581,
+ -478.63, 179.979,
+ -436.516, 210.308,
+ -398.107, 241.196,
+ -363.078, 271.179,
+ -331.131, 299.017,
+ -301.995, 323.98,
+ -275.423, 350.37,
+ -251.189, 368.182,
+ -229.087, 378.417,
+ -208.93, 384.994,
+ -190.546, 389.497,
+ -173.78, 392.701,
+ -158.489, 395.044,
+ -144.544, 396.751,
+ -131.826, 398.041,
+ -120.226, 398.999,
+ -109.648, 399.709,
+ -1, 400,
+ 1, 400,
+ 109.648, 399.709,
+ 120.226, 398.999,
+ 131.826, 398.041,
+ 144.544, 396.751,
+ 158.489, 395.044,
+ 173.78, 392.701,
+ 190.546, 389.497,
+ 208.93, 384.994,
+ 229.087, 378.417,
+ 251.189, 368.182,
+ 275.423, 350.37,
+ 301.995, 323.98,
+ 331.131, 299.017,
+ 363.078, 271.179,
+ 398.107, 241.196,
+ 436.516, 210.308,
+ 478.63, 179.979,
+ 524.807, 151.581,
+ 575.44, 126.107,
+ 630.957, 104.052,
+ 691.831, 85.4636,
+ 758.578, 70.0892,
+ 831.764, 57.522,
+ 912.011, 47.3143,
+ 1000, 39.0425,
+ 1096.48, 32.3367,
+ 1202.26, 26.8881,
+ 1318.26, 22.4461,
+ 1445.44, 18.8101,
+ 1584.89, 15.8209,
+ 1737.8, 13.3527,
+ 1905.46, 11.3056,
+ 2089.3, 9.60084,
+ 2290.87, 8.17537,
+ 2511.89, 6.97898,
+ 2754.23, 5.97131,
+ 3019.95, 5.11984,
+ 3311.31, 4.39817,
+ 3630.78, 3.78481,
+ 3981.07, 3.26217,
+ 4365.16, 2.81577,
+ 4786.3, 2.43367,
+ 5248.07, 2.10594,
+ 5754.4, 1.82438,
+ 6309.57, 1.58202,
+ 6918.31, 1.37312,
+ 7585.78, 1.19279,
+ 8317.64, 1.03694,
+ 9120.11, 0.90207]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3C85_181 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 181
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 181
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.0208,
+ -8317.64, 1.18817,
+ -7585.78, 1.38581,
+ -6918.31, 1.61999,
+ -6309.57, 1.89852,
+ -5754.4, 2.23119,
+ -5248.07, 2.63038,
+ -4786.3, 3.11187,
+ -4365.16, 3.69593,
+ -3981.07, 4.40885,
+ -3630.78, 5.28509,
+ -3311.31, 6.37021,
+ -3019.95, 7.72504,
+ -2754.23, 9.4315,
+ -2511.89, 11.6007,
+ -2290.87, 14.3833,
+ -2089.3, 17.9849,
+ -1905.46, 22.6785,
+ -1737.8, 28.8172,
+ -1584.89, 36.8224,
+ -1445.44, 47.1219,
+ -1318.26, 59.9919,
+ -1202.26, 75.299,
+ -1096.48, 92.2665,
+ -1000, 109.531,
+ -912.011, 125.615,
+ -831.764, 139.471,
+ -758.578, 150.756,
+ -691.831, 159.621,
+ -630.957, 166.817,
+ -575.44, 173,
+ -524.807, 176.189,
+ -478.63, 178.025,
+ -436.516, 179.204,
+ -398.107, 180.01,
+ -363.078, 180.582,
+ -331.131, 181.001,
+ -301.995, 181.301,
+ -275.423, 181.53,
+ -251.189, 181.699,
+ -229.087, 181.807,
+ -1, 181.818,
+ 1, 181.818,
+ 229.087, 181.807,
+ 251.189, 181.699,
+ 275.423, 181.53,
+ 301.995, 181.301,
+ 331.131, 181.001,
+ 363.078, 180.582,
+ 398.107, 180.01,
+ 436.516, 179.204,
+ 478.63, 178.025,
+ 524.807, 176.189,
+ 575.44, 173,
+ 630.957, 166.817,
+ 691.831, 159.621,
+ 758.578, 150.756,
+ 831.764, 139.471,
+ 912.011, 125.615,
+ 1000, 109.531,
+ 1096.48, 92.2665,
+ 1202.26, 75.299,
+ 1318.26, 59.9919,
+ 1445.44, 47.1219,
+ 1584.89, 36.8224,
+ 1737.8, 28.8172,
+ 1905.46, 22.6785,
+ 2089.3, 17.9849,
+ 2290.87, 14.3833,
+ 2511.89, 11.6007,
+ 2754.23, 9.4315,
+ 3019.95, 7.72504,
+ 3311.31, 6.37021,
+ 3630.78, 5.28509,
+ 3981.07, 4.40885,
+ 4365.16, 3.69593,
+ 4786.3, 3.11187,
+ 5248.07, 2.63038,
+ 5754.4, 2.23119,
+ 6309.57, 1.89852,
+ 6918.31, 1.61999,
+ 7585.78, 1.38581,
+ 8317.64, 1.18817,
+ 9120.11, 1.0208]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3C85_95 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 95
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 95
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.28488,
+ -8317.64, 1.535,
+ -7585.78, 1.84383,
+ -6918.31, 2.2286,
+ -6309.57, 2.71285,
+ -5754.4, 3.32936,
+ -5248.07, 4.12421,
+ -4786.3, 5.1635,
+ -4365.16, 6.5432,
+ -3981.07, 8.40383,
+ -3630.78, 10.9509,
+ -3311.31, 14.4777,
+ -3019.95, 19.374,
+ -2754.23, 26.0694,
+ -2511.89, 34.82,
+ -2290.87, 45.3114,
+ -2089.3, 56.4088,
+ -1905.46, 66.5963,
+ -1737.8, 74.8553,
+ -1584.89, 81.0121,
+ -1445.44, 85.4151,
+ -1318.26, 88.5304,
+ -1202.26, 90.8406,
+ -1096.48, 92.726,
+ -1000, 93.6643,
+ -912.011, 94.1867,
+ -831.764, 94.5176,
+ -758.578, 94.7417,
+ -691.831, 94.8998,
+ -630.957, 95.0158,
+ -575.44, 95.0967,
+ -524.807, 95.16,
+ -478.63, 95.2061,
+ -436.516, 95.2353,
+ -1, 95.2381,
+ 1, 95.2381,
+ 436.516, 95.2353,
+ 478.63, 95.2061,
+ 524.807, 95.16,
+ 575.44, 95.0967,
+ 630.957, 95.0158,
+ 691.831, 94.8998,
+ 758.578, 94.7417,
+ 831.764, 94.5176,
+ 912.011, 94.1867,
+ 1000, 93.6643,
+ 1096.48, 92.726,
+ 1202.26, 90.8406,
+ 1318.26, 88.5304,
+ 1445.44, 85.4151,
+ 1584.89, 81.0121,
+ 1737.8, 74.8553,
+ 1905.46, 66.5963,
+ 2089.3, 56.4088,
+ 2290.87, 45.3114,
+ 2511.89, 34.82,
+ 2754.23, 26.0694,
+ 3019.95, 19.374,
+ 3311.31, 14.4777,
+ 3630.78, 10.9509,
+ 3981.07, 8.40383,
+ 4365.16, 6.5432,
+ 4786.3, 5.1635,
+ 5248.07, 4.12421,
+ 5754.4, 3.32936,
+ 6309.57, 2.71285,
+ 6918.31, 2.2286,
+ 7585.78, 1.84383,
+ 8317.64, 1.535,
+ 9120.11, 1.28488]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3C85_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.30712,
+ -8317.64, 2.99642,
+ -7585.78, 3.97096,
+ -6918.31, 5.38512,
+ -6309.57, 7.48477,
+ -5754.4, 10.6333,
+ -5248.07, 15.2461,
+ -4786.3, 21.445,
+ -4365.16, 28.4872,
+ -3981.07, 34.9085,
+ -3630.78, 39.7135,
+ -3311.31, 42.9053,
+ -3019.95, 44.9393,
+ -2754.23, 46.2438,
+ -2511.89, 47.1033,
+ -2290.87, 47.7362,
+ -2089.3, 48.1912,
+ -1905.46, 48.4051,
+ -1737.8, 48.529,
+ -1584.89, 48.6082,
+ -1445.44, 48.6621,
+ -1318.26, 48.7004,
+ -1202.26, 48.7287,
+ -1096.48, 48.748,
+ -1000, 48.7635,
+ -912.011, 48.7747,
+ -1, 48.7805,
+ 1, 48.7805,
+ 912.011, 48.7747,
+ 1000, 48.7635,
+ 1096.48, 48.748,
+ 1202.26, 48.7287,
+ 1318.26, 48.7004,
+ 1445.44, 48.6621,
+ 1584.89, 48.6082,
+ 1737.8, 48.529,
+ 1905.46, 48.4051,
+ 2089.3, 48.1912,
+ 2290.87, 47.7362,
+ 2511.89, 47.1033,
+ 2754.23, 46.2438,
+ 3019.95, 44.9393,
+ 3311.31, 42.9053,
+ 3630.78, 39.7135,
+ 3981.07, 34.9085,
+ 4365.16, 28.4872,
+ 4786.3, 21.445,
+ 5248.07, 15.2461,
+ 5754.4, 10.6333,
+ 6309.57, 7.48477,
+ 6918.31, 5.38512,
+ 7585.78, 3.97096,
+ 8317.64, 2.99642,
+ 9120.11, 2.30712]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3C81_2700 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 2700
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 2700
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.314491,
+ -8317.64, 0.368455,
+ -7585.78, 0.43168,
+ -6918.31, 0.505754,
+ -6309.57, 0.592538,
+ -5754.4, 0.694214,
+ -5248.07, 0.813337,
+ -4786.3, 0.9529,
+ -4365.16, 1.11641,
+ -3981.07, 1.30798,
+ -3630.78, 1.53242,
+ -3311.31, 1.79538,
+ -3019.95, 2.10345,
+ -2754.23, 2.46439,
+ -2511.89, 2.88727,
+ -2290.87, 3.38271,
+ -2089.3, 3.96316,
+ -1905.46, 4.64321,
+ -1737.8, 5.43996,
+ -1584.89, 6.37342,
+ -1445.44, 7.46706,
+ -1318.26, 8.74836,
+ -1202.26, 10.2495,
+ -1096.48, 12.0083,
+ -1000, 14.0688,
+ -912.011, 16.4829,
+ -831.764, 19.3113,
+ -758.578, 22.625,
+ -691.831, 26.5073,
+ -630.957, 31.0558,
+ -575.44, 36.3848,
+ -524.807, 42.6282,
+ -478.63, 49.943,
+ -436.516, 58.5129,
+ -398.107, 68.5533,
+ -363.078, 80.3167,
+ -331.131, 94.0985,
+ -301.995, 110.245,
+ -275.423, 129.163,
+ -251.189, 151.326,
+ -229.087, 177.293,
+ -208.93, 207.715,
+ -190.546, 243.358,
+ -173.78, 285.116,
+ -158.489, 334.041,
+ -144.544, 391.36,
+ -131.826, 458.515,
+ -120.226, 537.193,
+ -109.648, 629.372,
+ -100, 737.369,
+ -91.2011, 863.897,
+ -83.1764, 1008.97,
+ -75.8578, 1153.49,
+ -69.1831, 1295.24,
+ -63.0957, 1433.6,
+ -57.544, 1567.32,
+ -52.4807, 1695.56,
+ -47.863, 1817.74,
+ -43.6516, 1933.5,
+ -39.8107, 2042.69,
+ -36.3078, 2145.28,
+ -33.1131, 2241.34,
+ -30.1995, 2331.03,
+ -27.5423, 2414.55,
+ -25.1189, 2492.17,
+ -22.9087, 2564.15,
+ -20.893, 2630.79,
+ -19.0546, 2688.31,
+ -1, 2700,
+ 1, 2700,
+ 19.0546, 2688.31,
+ 20.893, 2630.79,
+ 22.9087, 2564.15,
+ 25.1189, 2492.17,
+ 27.5423, 2414.55,
+ 30.1995, 2331.03,
+ 33.1131, 2241.34,
+ 36.3078, 2145.28,
+ 39.8107, 2042.69,
+ 43.6516, 1933.5,
+ 47.863, 1817.74,
+ 52.4807, 1695.56,
+ 57.544, 1567.32,
+ 63.0957, 1433.6,
+ 69.1831, 1295.24,
+ 75.8578, 1153.49,
+ 83.1764, 1008.97,
+ 91.2011, 863.897,
+ 100, 737.369,
+ 109.648, 629.372,
+ 120.226, 537.193,
+ 131.826, 458.515,
+ 144.544, 391.36,
+ 158.489, 334.041,
+ 173.78, 285.116,
+ 190.546, 243.358,
+ 208.93, 207.715,
+ 229.087, 177.293,
+ 251.189, 151.326,
+ 275.423, 129.163,
+ 301.995, 110.245,
+ 331.131, 94.0985,
+ 363.078, 80.3167,
+ 398.107, 68.5533,
+ 436.516, 58.5129,
+ 478.63, 49.943,
+ 524.807, 42.6282,
+ 575.44, 36.3848,
+ 630.957, 31.0558,
+ 691.831, 26.5073,
+ 758.578, 22.625,
+ 831.764, 19.3113,
+ 912.011, 16.4829,
+ 1000, 14.0688,
+ 1096.48, 12.0083,
+ 1202.26, 10.2495,
+ 1318.26, 8.74836,
+ 1445.44, 7.46706,
+ 1584.89, 6.37342,
+ 1737.8, 5.43996,
+ 1905.46, 4.64321,
+ 2089.3, 3.96316,
+ 2290.87, 3.38271,
+ 2511.89, 2.88727,
+ 2754.23, 2.46439,
+ 3019.95, 2.10345,
+ 3311.31, 1.79538,
+ 3630.78, 1.53242,
+ 3981.07, 1.30798,
+ 4365.16, 1.11641,
+ 4786.3, 0.9529,
+ 5248.07, 0.813337,
+ 5754.4, 0.694214,
+ 6309.57, 0.592538,
+ 6918.31, 0.505754,
+ 7585.78, 0.43168,
+ 8317.64, 0.368455,
+ 9120.11, 0.314491]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3C81_729 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 729
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 729
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.331592,
+ -8317.64, 0.390481,
+ -7585.78, 0.460056,
+ -6918.31, 0.542322,
+ -6309.57, 0.639679,
+ -5754.4, 0.755009,
+ -5248.07, 0.891773,
+ -4786.3, 1.05414,
+ -4365.16, 1.24716,
+ -3981.07, 1.47693,
+ -3630.78, 1.75086,
+ -3311.31, 2.07799,
+ -3019.95, 2.46938,
+ -2754.23, 2.93858,
+ -2511.89, 3.5023,
+ -2290.87, 4.1812,
+ -2089.3, 5.00097,
+ -1905.46, 5.99354,
+ -1737.8, 7.19942,
+ -1584.89, 8.66907,
+ -1445.44, 10.4668,
+ -1318.26, 12.6746,
+ -1202.26, 15.3973,
+ -1096.48, 18.7699,
+ -1000, 22.967,
+ -912.011, 28.2149,
+ -831.764, 34.8074,
+ -758.578, 43.1258,
+ -691.831, 53.6616,
+ -630.957, 67.0412,
+ -575.44, 84.0439,
+ -524.807, 105.602,
+ -478.63, 132.757,
+ -436.516, 166.532,
+ -398.107, 207.694,
+ -363.078, 256.401,
+ -331.131, 311.836,
+ -301.995, 372.036,
+ -275.423, 434.121,
+ -251.189, 494.338,
+ -229.087, 543.054,
+ -208.93, 580.212,
+ -190.546, 609.269,
+ -173.78, 632.489,
+ -158.489, 651.306,
+ -144.544, 666.78,
+ -131.826, 679.666,
+ -120.226, 690.514,
+ -109.648, 699.733,
+ -100, 707.698,
+ -91.2011, 714.386,
+ -83.1764, 720.344,
+ -75.8578, 725.518,
+ -69.1831, 729.345,
+ -1, 729.73,
+ 1, 729.73,
+ 69.1831, 729.345,
+ 75.8578, 725.518,
+ 83.1764, 720.344,
+ 91.2011, 714.386,
+ 100, 707.698,
+ 109.648, 699.733,
+ 120.226, 690.514,
+ 131.826, 679.666,
+ 144.544, 666.78,
+ 158.489, 651.306,
+ 173.78, 632.489,
+ 190.546, 609.269,
+ 208.93, 580.212,
+ 229.087, 543.054,
+ 251.189, 494.338,
+ 275.423, 434.121,
+ 301.995, 372.036,
+ 331.131, 311.836,
+ 363.078, 256.401,
+ 398.107, 207.694,
+ 436.516, 166.532,
+ 478.63, 132.757,
+ 524.807, 105.602,
+ 575.44, 84.0439,
+ 630.957, 67.0412,
+ 691.831, 53.6616,
+ 758.578, 43.1258,
+ 831.764, 34.8074,
+ 912.011, 28.2149,
+ 1000, 22.967,
+ 1096.48, 18.7699,
+ 1202.26, 15.3973,
+ 1318.26, 12.6746,
+ 1445.44, 10.4668,
+ 1584.89, 8.66907,
+ 1737.8, 7.19942,
+ 1905.46, 5.99354,
+ 2089.3, 5.00097,
+ 2290.87, 4.1812,
+ 2511.89, 3.5023,
+ 2754.23, 2.93858,
+ 3019.95, 2.46938,
+ 3311.31, 2.07799,
+ 3630.78, 1.75086,
+ 3981.07, 1.47693,
+ 4365.16, 1.24716,
+ 4786.3, 1.05414,
+ 5248.07, 0.891773,
+ 5754.4, 0.755009,
+ 6309.57, 0.639679,
+ 6918.31, 0.542322,
+ 7585.78, 0.460056,
+ 8317.64, 0.390481,
+ 9120.11, 0.331592]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3C81_421 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 421
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 421
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.350195,
+ -8317.64, 0.414637,
+ -7585.78, 0.491456,
+ -6918.31, 0.583189,
+ -6309.57, 0.692937,
+ -5754.4, 0.824516,
+ -5248.07, 0.982619,
+ -4786.3, 1.17311,
+ -4365.16, 1.40325,
+ -3981.07, 1.68217,
+ -3630.78, 2.02136,
+ -3311.31, 2.43545,
+ -3019.95, 2.94309,
+ -2754.23, 3.56834,
+ -2511.89, 4.34246,
+ -2290.87, 5.30635,
+ -2089.3, 6.51411,
+ -1905.46, 8.03792,
+ -1737.8, 9.97501,
+ -1584.89, 12.4576,
+ -1445.44, 15.6669,
+ -1318.26, 19.8533,
+ -1202.26, 25.3632,
+ -1096.48, 32.6748,
+ -1000, 42.4389,
+ -912.011, 55.5105,
+ -831.764, 72.9359,
+ -758.578, 95.813,
+ -691.831, 124.952,
+ -630.957, 160.24,
+ -575.44, 200.106,
+ -524.807, 241.525,
+ -478.63, 281.073,
+ -436.516, 316.125,
+ -398.107, 343.778,
+ -363.078, 362.421,
+ -331.131, 375.726,
+ -301.995, 385.634,
+ -275.423, 393.242,
+ -251.189, 399.263,
+ -229.087, 404.119,
+ -208.93, 408.103,
+ -190.546, 411.419,
+ -173.78, 414.211,
+ -158.489, 416.6,
+ -144.544, 418.606,
+ -131.826, 420.378,
+ -120.226, 421.713,
+ -1, 421.875,
+ 1, 421.875,
+ 120.226, 421.713,
+ 131.826, 420.378,
+ 144.544, 418.606,
+ 158.489, 416.6,
+ 173.78, 414.211,
+ 190.546, 411.419,
+ 208.93, 408.103,
+ 229.087, 404.119,
+ 251.189, 399.263,
+ 275.423, 393.242,
+ 301.995, 385.634,
+ 331.131, 375.726,
+ 363.078, 362.421,
+ 398.107, 343.778,
+ 436.516, 316.125,
+ 478.63, 281.073,
+ 524.807, 241.525,
+ 575.44, 200.106,
+ 630.957, 160.24,
+ 691.831, 124.952,
+ 758.578, 95.813,
+ 831.764, 72.9359,
+ 912.011, 55.5105,
+ 1000, 42.4389,
+ 1096.48, 32.6748,
+ 1202.26, 25.3632,
+ 1318.26, 19.8533,
+ 1445.44, 15.6669,
+ 1584.89, 12.4576,
+ 1737.8, 9.97501,
+ 1905.46, 8.03792,
+ 2089.3, 6.51411,
+ 2290.87, 5.30635,
+ 2511.89, 4.34246,
+ 2754.23, 3.56834,
+ 3019.95, 2.94309,
+ 3311.31, 2.43545,
+ 3630.78, 2.02136,
+ 3981.07, 1.68217,
+ 4365.16, 1.40325,
+ 4786.3, 1.17311,
+ 5248.07, 0.982619,
+ 5754.4, 0.824516,
+ 6309.57, 0.692937,
+ 6918.31, 0.583189,
+ 7585.78, 0.491456,
+ 8317.64, 0.414637,
+ 9120.11, 0.350195]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3C81_186 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 186
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 186
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.417001,
+ -8317.64, 0.503031,
+ -7585.78, 0.608791,
+ -6918.31, 0.739502,
+ -6309.57, 0.902024,
+ -5754.4, 1.10547,
+ -5248.07, 1.36212,
+ -4786.3, 1.68869,
+ -4365.16, 2.10836,
+ -3981.07, 2.65376,
+ -3630.78, 3.37166,
+ -3311.31, 4.33044,
+ -3019.95, 5.63201,
+ -2754.23, 7.43182,
+ -2511.89, 9.97062,
+ -2290.87, 13.6268,
+ -2089.3, 18.9933,
+ -1905.46, 26.9658,
+ -1737.8, 38.7484,
+ -1584.89, 55.4951,
+ -1445.44, 77.2229,
+ -1318.26, 101.574,
+ -1202.26, 124.531,
+ -1096.48, 143.141,
+ -1000, 156.84,
+ -912.011, 166.391,
+ -831.764, 172.191,
+ -758.578, 175.801,
+ -691.831, 178.275,
+ -630.957, 180.075,
+ -575.44, 181.433,
+ -524.807, 182.499,
+ -478.63, 183.353,
+ -436.516, 184.049,
+ -398.107, 184.627,
+ -363.078, 185.112,
+ -331.131, 185.525,
+ -301.995, 185.874,
+ -275.423, 186.157,
+ -1, 186.207,
+ 1, 186.207,
+ 275.423, 186.157,
+ 301.995, 185.874,
+ 331.131, 185.525,
+ 363.078, 185.112,
+ 398.107, 184.627,
+ 436.516, 184.049,
+ 478.63, 183.353,
+ 524.807, 182.499,
+ 575.44, 181.433,
+ 630.957, 180.075,
+ 691.831, 178.275,
+ 758.578, 175.801,
+ 831.764, 172.191,
+ 912.011, 166.391,
+ 1000, 156.84,
+ 1096.48, 143.141,
+ 1202.26, 124.531,
+ 1318.26, 101.574,
+ 1445.44, 77.2229,
+ 1584.89, 55.4951,
+ 1737.8, 38.7484,
+ 1905.46, 26.9658,
+ 2089.3, 18.9933,
+ 2290.87, 13.6268,
+ 2511.89, 9.97062,
+ 2754.23, 7.43182,
+ 3019.95, 5.63201,
+ 3311.31, 4.33044,
+ 3630.78, 3.37166,
+ 3981.07, 2.65376,
+ 4365.16, 2.10836,
+ 4786.3, 1.68869,
+ 5248.07, 1.36212,
+ 5754.4, 1.10547,
+ 6309.57, 0.902024,
+ 6918.31, 0.739502,
+ 7585.78, 0.608791,
+ 8317.64, 0.503031,
+ 9120.11, 0.417001]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3C81_96 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 96
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 96
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.583081,
+ -8317.64, 0.733355,
+ -7585.78, 0.931386,
+ -6918.31, 1.19655,
+ -6309.57, 1.55837,
+ -5754.4, 2.06307,
+ -5248.07, 2.78564,
+ -4786.3, 3.8522,
+ -4365.16, 5.48261,
+ -3981.07, 8.07148,
+ -3630.78, 12.3276,
+ -3311.31, 19.4212,
+ -3019.95, 30.7106,
+ -2754.23, 46.0605,
+ -2511.89, 62.0103,
+ -2290.87, 74.5177,
+ -2089.3, 82.706,
+ -1905.46, 87.7498,
+ -1737.8, 90.8528,
+ -1584.89, 92.5875,
+ -1445.44, 93.6195,
+ -1318.26, 94.3084,
+ -1202.26, 94.8019,
+ -1096.48, 95.1689,
+ -1000, 95.4559,
+ -912.011, 95.6841,
+ -831.764, 95.8695,
+ -758.578, 96.0226,
+ -691.831, 96.1509,
+ -630.957, 96.26,
+ -575.44, 96.3516,
+ -524.807, 96.421,
+ -1, 96.4286,
+ 1, 96.4286,
+ 524.807, 96.421,
+ 575.44, 96.3516,
+ 630.957, 96.26,
+ 691.831, 96.1509,
+ 758.578, 96.0226,
+ 831.764, 95.8695,
+ 912.011, 95.6841,
+ 1000, 95.4559,
+ 1096.48, 95.1689,
+ 1202.26, 94.8019,
+ 1318.26, 94.3084,
+ 1445.44, 93.6195,
+ 1584.89, 92.5875,
+ 1737.8, 90.8528,
+ 1905.46, 87.7498,
+ 2089.3, 82.706,
+ 2290.87, 74.5177,
+ 2511.89, 62.0103,
+ 2754.23, 46.0605,
+ 3019.95, 30.7106,
+ 3311.31, 19.4212,
+ 3630.78, 12.3276,
+ 3981.07, 8.07148,
+ 4365.16, 5.48261,
+ 4786.3, 3.8522,
+ 5248.07, 2.78564,
+ 5754.4, 2.06307,
+ 6309.57, 1.55837,
+ 6918.31, 1.19655,
+ 7585.78, 0.931386,
+ 8317.64, 0.733355,
+ 9120.11, 0.583081]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3C81_49 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 49
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 49
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.49307,
+ -8317.64, 2.2237,
+ -7585.78, 3.49353,
+ -6918.31, 5.8574,
+ -6309.57, 10.4508,
+ -5754.4, 18.7057,
+ -5248.07, 29.4646,
+ -4786.3, 38.1412,
+ -4365.16, 43.0722,
+ -3981.07, 45.6162,
+ -3630.78, 46.9869,
+ -3311.31, 47.7595,
+ -3019.95, 48.167,
+ -2754.23, 48.4135,
+ -2511.89, 48.5793,
+ -2290.87, 48.6989,
+ -2089.3, 48.7879,
+ -1905.46, 48.858,
+ -1737.8, 48.9139,
+ -1584.89, 48.9594,
+ -1445.44, 48.997,
+ -1318.26, 49.0286,
+ -1202.26, 49.0555,
+ -1096.48, 49.0782,
+ -1, 49.0909,
+ 1, 49.0909,
+ 1096.48, 49.0782,
+ 1202.26, 49.0555,
+ 1318.26, 49.0286,
+ 1445.44, 48.997,
+ 1584.89, 48.9594,
+ 1737.8, 48.9139,
+ 1905.46, 48.858,
+ 2089.3, 48.7879,
+ 2290.87, 48.6989,
+ 2511.89, 48.5793,
+ 2754.23, 48.4135,
+ 3019.95, 48.167,
+ 3311.31, 47.7595,
+ 3630.78, 46.9869,
+ 3981.07, 45.6162,
+ 4365.16, 43.0722,
+ 4786.3, 38.1412,
+ 5248.07, 29.4646,
+ 5754.4, 18.7057,
+ 6309.57, 10.4508,
+ 6918.31, 5.8574,
+ 7585.78, 3.49353,
+ 8317.64, 2.2237,
+ 9120.11, 1.49307]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3C80_2000 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 2000
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 2000
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.09557,
+ -8317.64, 2.35328,
+ -7585.78, 2.64267,
+ -6918.31, 2.96766,
+ -6309.57, 3.33261,
+ -5754.4, 3.74244,
+ -5248.07, 4.20267,
+ -4786.3, 4.7195,
+ -4365.16, 5.29988,
+ -3981.07, 5.95164,
+ -3630.78, 6.68354,
+ -3311.31, 7.50546,
+ -3019.95, 8.42845,
+ -2754.23, 9.46494,
+ -2511.89, 10.6289,
+ -2290.87, 11.936,
+ -2089.3, 13.4038,
+ -1905.46, 15.0522,
+ -1737.8, 16.9032,
+ -1584.89, 18.9819,
+ -1445.44, 21.3162,
+ -1318.26, 23.9376,
+ -1202.26, 26.8814,
+ -1096.48, 30.1871,
+ -1000, 33.8994,
+ -912.011, 38.0682,
+ -831.764, 42.7497,
+ -758.578, 48.0068,
+ -691.831, 53.9105,
+ -630.957, 60.5402,
+ -575.44, 67.9852,
+ -524.807, 76.3457,
+ -478.63, 85.7344,
+ -436.516, 96.2776,
+ -398.107, 108.117,
+ -363.078, 121.413,
+ -331.131, 136.344,
+ -301.995, 153.111,
+ -275.423, 171.94,
+ -251.189, 193.085,
+ -229.087, 216.829,
+ -208.93, 243.494,
+ -190.546, 273.438,
+ -173.78, 307.064,
+ -158.489, 344.826,
+ -144.544, 387.231,
+ -131.826, 434.851,
+ -120.226, 488.327,
+ -109.648, 548.379,
+ -100, 615.817,
+ -91.2011, 691.547,
+ -83.1764, 776.591,
+ -75.8578, 872.092,
+ -69.1831, 983.469,
+ -63.0957, 1152.59,
+ -57.544, 1312.17,
+ -52.4807, 1444.37,
+ -47.863, 1553.86,
+ -43.6516, 1644.49,
+ -39.8107, 1719.47,
+ -36.3078, 1781.48,
+ -33.1131, 1832.73,
+ -30.1995, 1875.05,
+ -27.5423, 1909.98,
+ -25.1189, 1938.78,
+ -22.9087, 1962.5,
+ -20.893, 1982.03,
+ -19.0546, 1997.11,
+ -1, 2000,
+ 1, 2000,
+ 19.0546, 1997.11,
+ 20.893, 1982.03,
+ 22.9087, 1962.5,
+ 25.1189, 1938.78,
+ 27.5423, 1909.98,
+ 30.1995, 1875.05,
+ 33.1131, 1832.73,
+ 36.3078, 1781.48,
+ 39.8107, 1719.47,
+ 43.6516, 1644.49,
+ 47.863, 1553.86,
+ 52.4807, 1444.37,
+ 57.544, 1312.17,
+ 63.0957, 1152.59,
+ 69.1831, 983.469,
+ 75.8578, 872.092,
+ 83.1764, 776.591,
+ 91.2011, 691.547,
+ 100, 615.817,
+ 109.648, 548.379,
+ 120.226, 488.327,
+ 131.826, 434.851,
+ 144.544, 387.231,
+ 158.489, 344.826,
+ 173.78, 307.064,
+ 190.546, 273.438,
+ 208.93, 243.494,
+ 229.087, 216.829,
+ 251.189, 193.085,
+ 275.423, 171.94,
+ 301.995, 153.111,
+ 331.131, 136.344,
+ 363.078, 121.413,
+ 398.107, 108.117,
+ 436.516, 96.2776,
+ 478.63, 85.7344,
+ 524.807, 76.3457,
+ 575.44, 67.9852,
+ 630.957, 60.5402,
+ 691.831, 53.9105,
+ 758.578, 48.0068,
+ 831.764, 42.7497,
+ 912.011, 38.0682,
+ 1000, 33.8994,
+ 1096.48, 30.1871,
+ 1202.26, 26.8814,
+ 1318.26, 23.9376,
+ 1445.44, 21.3162,
+ 1584.89, 18.9819,
+ 1737.8, 16.9032,
+ 1905.46, 15.0522,
+ 2089.3, 13.4038,
+ 2290.87, 11.936,
+ 2511.89, 10.6289,
+ 2754.23, 9.46494,
+ 3019.95, 8.42845,
+ 3311.31, 7.50546,
+ 3630.78, 6.68354,
+ 3981.07, 5.95164,
+ 4365.16, 5.29988,
+ 4786.3, 4.7195,
+ 5248.07, 4.20267,
+ 5754.4, 3.74244,
+ 6309.57, 3.33261,
+ 6918.31, 2.96766,
+ 7585.78, 2.64267,
+ 8317.64, 2.35328,
+ 9120.11, 2.09557]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3C80_666 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 666
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 666
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.18242,
+ -8317.64, 2.45973,
+ -7585.78, 2.77316,
+ -6918.31, 3.12761,
+ -6309.57, 3.52868,
+ -5754.4, 3.98279,
+ -5248.07, 4.49732,
+ -4786.3, 5.08074,
+ -4365.16, 5.74278,
+ -3981.07, 6.49471,
+ -3630.78, 7.3495,
+ -3311.31, 8.32219,
+ -3019.95, 9.43021,
+ -2754.23, 10.6938,
+ -2511.89, 12.1365,
+ -2290.87, 13.7856,
+ -2089.3, 15.6739,
+ -1905.46, 17.8384,
+ -1737.8, 20.3233,
+ -1584.89, 23.1806,
+ -1445.44, 26.4712,
+ -1318.26, 30.2669,
+ -1202.26, 34.6523,
+ -1096.48, 39.7269,
+ -1000, 45.6079,
+ -912.011, 52.4325,
+ -831.764, 60.3611,
+ -758.578, 69.5795,
+ -691.831, 80.301,
+ -630.957, 92.7665,
+ -575.44, 107.243,
+ -524.807, 124.015,
+ -478.63, 143.375,
+ -436.516, 165.601,
+ -398.107, 190.923,
+ -363.078, 219.485,
+ -331.131, 251.293,
+ -301.995, 286.17,
+ -275.423, 323.717,
+ -251.189, 363.313,
+ -229.087, 404.142,
+ -208.93, 445.273,
+ -190.546, 486.085,
+ -173.78, 535.748,
+ -158.489, 574.095,
+ -144.544, 599.034,
+ -131.826, 616.406,
+ -120.226, 629.047,
+ -109.648, 638.526,
+ -100, 645.834,
+ -91.2011, 651.398,
+ -83.1764, 655.868,
+ -75.8578, 659.409,
+ -69.1831, 662.235,
+ -63.0957, 664.505,
+ -57.544, 666.264,
+ -1, 666.667,
+ 1, 666.667,
+ 57.544, 666.264,
+ 63.0957, 664.505,
+ 69.1831, 662.235,
+ 75.8578, 659.409,
+ 83.1764, 655.868,
+ 91.2011, 651.398,
+ 100, 645.834,
+ 109.648, 638.526,
+ 120.226, 629.047,
+ 131.826, 616.406,
+ 144.544, 599.034,
+ 158.489, 574.095,
+ 173.78, 535.748,
+ 190.546, 486.085,
+ 208.93, 445.273,
+ 229.087, 404.142,
+ 251.189, 363.313,
+ 275.423, 323.717,
+ 301.995, 286.17,
+ 331.131, 251.293,
+ 363.078, 219.485,
+ 398.107, 190.923,
+ 436.516, 165.601,
+ 478.63, 143.375,
+ 524.807, 124.015,
+ 575.44, 107.243,
+ 630.957, 92.7665,
+ 691.831, 80.301,
+ 758.578, 69.5795,
+ 831.764, 60.3611,
+ 912.011, 52.4325,
+ 1000, 45.6079,
+ 1096.48, 39.7269,
+ 1202.26, 34.6523,
+ 1318.26, 30.2669,
+ 1445.44, 26.4712,
+ 1584.89, 23.1806,
+ 1737.8, 20.3233,
+ 1905.46, 17.8384,
+ 2089.3, 15.6739,
+ 2290.87, 13.7856,
+ 2511.89, 12.1365,
+ 2754.23, 10.6938,
+ 3019.95, 9.43021,
+ 3311.31, 8.32219,
+ 3630.78, 7.3495,
+ 3981.07, 6.49471,
+ 4365.16, 5.74278,
+ 4786.3, 5.08074,
+ 5248.07, 4.49732,
+ 5754.4, 3.98279,
+ 6309.57, 3.52868,
+ 6918.31, 3.12761,
+ 7585.78, 2.77316,
+ 8317.64, 2.45973,
+ 9120.11, 2.18242]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3C80_400 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 400
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 400
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.2754,
+ -8317.64, 2.57436,
+ -7585.78, 2.91461,
+ -6918.31, 3.30221,
+ -6309.57, 3.74434,
+ -5754.4, 4.24935,
+ -5248.07, 4.82702,
+ -4786.3, 5.48883,
+ -4365.16, 6.24835,
+ -3981.07, 7.12158,
+ -3630.78, 8.12752,
+ -3311.31, 9.28878,
+ -3019.95, 10.6323,
+ -2754.23, 12.1905,
+ -2511.89, 14.0022,
+ -2290.87, 16.1142,
+ -2089.3, 18.5829,
+ -1905.46, 21.4769,
+ -1737.8, 24.8788,
+ -1584.89, 28.889,
+ -1445.44, 33.6282,
+ -1318.26, 39.2418,
+ -1202.26, 45.9021,
+ -1096.48, 53.8108,
+ -1000, 63.1981,
+ -912.011, 74.3162,
+ -831.764, 87.4243,
+ -758.578, 102.761,
+ -691.831, 120.497,
+ -630.957, 140.681,
+ -575.44, 163.168,
+ -524.807, 187.569,
+ -478.63, 213.249,
+ -436.516, 239.383,
+ -398.107, 265.075,
+ -363.078, 289.509,
+ -331.131, 312.061,
+ -301.995, 333.492,
+ -275.423, 355.78,
+ -251.189, 369.412,
+ -229.087, 377.993,
+ -208.93, 383.847,
+ -190.546, 388.05,
+ -173.78, 391.17,
+ -158.489, 393.572,
+ -144.544, 395.358,
+ -131.826, 396.813,
+ -120.226, 397.958,
+ -109.648, 398.869,
+ -100, 399.621,
+ -91.2011, 399.969,
+ -1, 400,
+ 1, 400,
+ 91.2011, 399.969,
+ 100, 399.621,
+ 109.648, 398.869,
+ 120.226, 397.958,
+ 131.826, 396.813,
+ 144.544, 395.358,
+ 158.489, 393.572,
+ 173.78, 391.17,
+ 190.546, 388.05,
+ 208.93, 383.847,
+ 229.087, 377.993,
+ 251.189, 369.412,
+ 275.423, 355.78,
+ 301.995, 333.492,
+ 331.131, 312.061,
+ 363.078, 289.509,
+ 398.107, 265.075,
+ 436.516, 239.383,
+ 478.63, 213.249,
+ 524.807, 187.569,
+ 575.44, 163.168,
+ 630.957, 140.681,
+ 691.831, 120.497,
+ 758.578, 102.761,
+ 831.764, 87.4243,
+ 912.011, 74.3162,
+ 1000, 63.1981,
+ 1096.48, 53.8108,
+ 1202.26, 45.9021,
+ 1318.26, 39.2418,
+ 1445.44, 33.6282,
+ 1584.89, 28.889,
+ 1737.8, 24.8788,
+ 1905.46, 21.4769,
+ 2089.3, 18.5829,
+ 2290.87, 16.1142,
+ 2511.89, 14.0022,
+ 2754.23, 12.1905,
+ 3019.95, 10.6323,
+ 3311.31, 9.28878,
+ 3630.78, 8.12752,
+ 3981.07, 7.12158,
+ 4365.16, 6.24835,
+ 4786.3, 5.48883,
+ 5248.07, 4.82702,
+ 5754.4, 4.24935,
+ 6309.57, 3.74434,
+ 6918.31, 3.30221,
+ 7585.78, 2.91461,
+ 8317.64, 2.57436,
+ 9120.11, 2.2754]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3C80_181 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 181
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 181
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.5975,
+ -8317.64, 2.97686,
+ -7585.78, 3.41839,
+ -6918.31, 3.93398,
+ -6309.57, 4.53823,
+ -5754.4, 5.24915,
+ -5248.07, 6.08916,
+ -4786.3, 7.08622,
+ -4365.16, 8.27553,
+ -3981.07, 9.70156,
+ -3630.78, 11.4207,
+ -3311.31, 13.5049,
+ -3019.95, 16.0451,
+ -2754.23, 19.1578,
+ -2511.89, 22.9874,
+ -2290.87, 27.7118,
+ -2089.3, 33.5394,
+ -1905.46, 40.6969,
+ -1737.8, 49.3955,
+ -1584.89, 59.7676,
+ -1445.44, 71.7739,
+ -1318.26, 85.1099,
+ -1202.26, 99.1758,
+ -1096.48, 113.171,
+ -1000, 126.302,
+ -912.011, 137.977,
+ -831.764, 147.934,
+ -758.578, 156.165,
+ -691.831, 162.84,
+ -630.957, 168.948,
+ -575.44, 173.68,
+ -524.807, 176.228,
+ -478.63, 177.824,
+ -436.516, 178.908,
+ -398.107, 179.684,
+ -363.078, 180.258,
+ -331.131, 180.695,
+ -301.995, 181.035,
+ -275.423, 181.295,
+ -251.189, 181.506,
+ -229.087, 181.673,
+ -208.93, 181.797,
+ -1, 181.818,
+ 1, 181.818,
+ 208.93, 181.797,
+ 229.087, 181.673,
+ 251.189, 181.506,
+ 275.423, 181.295,
+ 301.995, 181.035,
+ 331.131, 180.695,
+ 363.078, 180.258,
+ 398.107, 179.684,
+ 436.516, 178.908,
+ 478.63, 177.824,
+ 524.807, 176.228,
+ 575.44, 173.68,
+ 630.957, 168.948,
+ 691.831, 162.84,
+ 758.578, 156.165,
+ 831.764, 147.934,
+ 912.011, 137.977,
+ 1000, 126.302,
+ 1096.48, 113.171,
+ 1202.26, 99.1758,
+ 1318.26, 85.1099,
+ 1445.44, 71.7739,
+ 1584.89, 59.7676,
+ 1737.8, 49.3955,
+ 1905.46, 40.6969,
+ 2089.3, 33.5394,
+ 2290.87, 27.7118,
+ 2511.89, 22.9874,
+ 2754.23, 19.1578,
+ 3019.95, 16.0451,
+ 3311.31, 13.5049,
+ 3630.78, 11.4207,
+ 3981.07, 9.70156,
+ 4365.16, 8.27553,
+ 4786.3, 7.08622,
+ 5248.07, 6.08916,
+ 5754.4, 5.24915,
+ 6309.57, 4.53823,
+ 6918.31, 3.93398,
+ 7585.78, 3.41839,
+ 8317.64, 2.97686,
+ 9120.11, 2.5975]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3C80_95 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 95
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 95
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 3.33032,
+ -8317.64, 3.92089,
+ -7585.78, 4.6404,
+ -6918.31, 5.52383,
+ -6309.57, 6.61785,
+ -5754.4, 7.98467,
+ -5248.07, 9.70746,
+ -4786.3, 11.8966,
+ -4365.16, 14.696,
+ -3981.07, 18.2844,
+ -3630.78, 22.8646,
+ -3311.31, 28.6215,
+ -3019.95, 35.6332,
+ -2754.23, 43.741,
+ -2511.89, 52.4595,
+ -2290.87, 61.0552,
+ -2089.3, 68.8143,
+ -1905.46, 75.3062,
+ -1737.8, 80.4467,
+ -1584.89, 84.3849,
+ -1445.44, 87.3562,
+ -1318.26, 89.5948,
+ -1202.26, 91.4884,
+ -1096.48, 92.9292,
+ -1000, 93.6722,
+ -912.011, 94.1289,
+ -831.764, 94.4342,
+ -758.578, 94.6507,
+ -691.831, 94.8101,
+ -630.957, 94.9307,
+ -575.44, 95.0252,
+ -524.807, 95.0947,
+ -478.63, 95.1531,
+ -436.516, 95.199,
+ -398.107, 95.2326,
+ -1, 95.2381,
+ 1, 95.2381,
+ 398.107, 95.2326,
+ 436.516, 95.199,
+ 478.63, 95.1531,
+ 524.807, 95.0947,
+ 575.44, 95.0252,
+ 630.957, 94.9307,
+ 691.831, 94.8101,
+ 758.578, 94.6507,
+ 831.764, 94.4342,
+ 912.011, 94.1289,
+ 1000, 93.6722,
+ 1096.48, 92.9292,
+ 1202.26, 91.4884,
+ 1318.26, 89.5948,
+ 1445.44, 87.3562,
+ 1584.89, 84.3849,
+ 1737.8, 80.4467,
+ 1905.46, 75.3062,
+ 2089.3, 68.8143,
+ 2290.87, 61.0552,
+ 2511.89, 52.4595,
+ 2754.23, 43.741,
+ 3019.95, 35.6332,
+ 3311.31, 28.6215,
+ 3630.78, 22.8646,
+ 3981.07, 18.2844,
+ 4365.16, 14.696,
+ 4786.3, 11.8966,
+ 5248.07, 9.70746,
+ 5754.4, 7.98467,
+ 6309.57, 6.61785,
+ 6918.31, 5.52383,
+ 7585.78, 4.6404,
+ 8317.64, 3.92089,
+ 9120.11, 3.33032]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3C80_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 6.26678,
+ -8317.64, 7.98058,
+ -7585.78, 10.2811,
+ -6918.31, 13.3476,
+ -6309.57, 17.3202,
+ -5754.4, 22.1604,
+ -5248.07, 27.5012,
+ -4786.3, 32.6902,
+ -4365.16, 37.118,
+ -3981.07, 40.5246,
+ -3630.78, 42.9813,
+ -3311.31, 44.7033,
+ -3019.95, 45.9063,
+ -2754.23, 46.755,
+ -2511.89, 47.3654,
+ -2290.87, 47.8904,
+ -2089.3, 48.2265,
+ -1905.46, 48.4013,
+ -1737.8, 48.5111,
+ -1584.89, 48.5851,
+ -1445.44, 48.638,
+ -1318.26, 48.6771,
+ -1202.26, 48.7067,
+ -1096.48, 48.7302,
+ -1000, 48.747,
+ -912.011, 48.7616,
+ -831.764, 48.773,
+ -1, 48.7805,
+ 1, 48.7805,
+ 831.764, 48.773,
+ 912.011, 48.7616,
+ 1000, 48.747,
+ 1096.48, 48.7302,
+ 1202.26, 48.7067,
+ 1318.26, 48.6771,
+ 1445.44, 48.638,
+ 1584.89, 48.5851,
+ 1737.8, 48.5111,
+ 1905.46, 48.4013,
+ 2089.3, 48.2265,
+ 2290.87, 47.8904,
+ 2511.89, 47.3654,
+ 2754.23, 46.755,
+ 3019.95, 45.9063,
+ 3311.31, 44.7033,
+ 3630.78, 42.9813,
+ 3981.07, 40.5246,
+ 4365.16, 37.118,
+ 4786.3, 32.6902,
+ 5248.07, 27.5012,
+ 5754.4, 22.1604,
+ 6309.57, 17.3202,
+ 6918.31, 13.3476,
+ 7585.78, 10.2811,
+ 8317.64, 7.98058,
+ 9120.11, 6.26678]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3C30_1799 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 1799
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 1799
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.22219,
+ -8317.64, 2.48241,
+ -7585.78, 2.77311,
+ -6918.31, 3.09785,
+ -6309.57, 3.46062,
+ -5754.4, 3.86587,
+ -5248.07, 4.31858,
+ -4786.3, 4.8243,
+ -4365.16, 5.38924,
+ -3981.07, 6.02034,
+ -3630.78, 6.72534,
+ -3311.31, 7.5129,
+ -3019.95, 8.39268,
+ -2754.23, 9.37549,
+ -2511.89, 10.4734,
+ -2290.87, 11.6999,
+ -2089.3, 13.07,
+ -1905.46, 14.6005,
+ -1737.8, 16.3103,
+ -1584.89, 18.2202,
+ -1445.44, 20.3539,
+ -1318.26, 22.7374,
+ -1202.26, 25.4,
+ -1096.48, 28.3744,
+ -1000, 31.6972,
+ -912.011, 35.409,
+ -831.764, 39.5555,
+ -758.578, 44.1876,
+ -691.831, 49.3621,
+ -630.957, 55.1426,
+ -575.44, 61.6,
+ -524.807, 68.8136,
+ -478.63, 76.8718,
+ -436.516, 85.8738,
+ -398.107, 95.9299,
+ -363.078, 107.164,
+ -331.131, 119.713,
+ -301.995, 133.732,
+ -275.423, 149.392,
+ -251.189, 166.886,
+ -229.087, 186.429,
+ -208.93, 208.261,
+ -190.546, 232.649,
+ -173.78, 259.893,
+ -158.489, 290.327,
+ -144.544, 324.325,
+ -131.826, 362.305,
+ -120.226, 404.732,
+ -109.648, 452.127,
+ -100, 505.073,
+ -91.2011, 564.218,
+ -83.1764, 630.29,
+ -75.8578, 704.099,
+ -69.1831, 786.551,
+ -63.0957, 878.659,
+ -57.544, 981.553,
+ -52.4807, 1098.42,
+ -47.863, 1227.86,
+ -43.6516, 1338.65,
+ -39.8107, 1430.26,
+ -36.3078, 1505.96,
+ -33.1131, 1568.48,
+ -30.1995, 1620.08,
+ -27.5423, 1662.62,
+ -25.1189, 1697.67,
+ -22.9087, 1726.51,
+ -20.893, 1750.21,
+ -19.0546, 1769.67,
+ -17.378, 1785.62,
+ -15.8489, 1797.8,
+ -1, 1800,
+ 1, 1800,
+ 15.8489, 1797.8,
+ 17.378, 1785.62,
+ 19.0546, 1769.67,
+ 20.893, 1750.21,
+ 22.9087, 1726.51,
+ 25.1189, 1697.67,
+ 27.5423, 1662.62,
+ 30.1995, 1620.08,
+ 33.1131, 1568.48,
+ 36.3078, 1505.96,
+ 39.8107, 1430.26,
+ 43.6516, 1338.65,
+ 47.863, 1227.86,
+ 52.4807, 1098.42,
+ 57.544, 981.553,
+ 63.0957, 878.659,
+ 69.1831, 786.551,
+ 75.8578, 704.099,
+ 83.1764, 630.29,
+ 91.2011, 564.218,
+ 100, 505.073,
+ 109.648, 452.127,
+ 120.226, 404.732,
+ 131.826, 362.305,
+ 144.544, 324.325,
+ 158.489, 290.327,
+ 173.78, 259.893,
+ 190.546, 232.649,
+ 208.93, 208.261,
+ 229.087, 186.429,
+ 251.189, 166.886,
+ 275.423, 149.392,
+ 301.995, 133.732,
+ 331.131, 119.713,
+ 363.078, 107.164,
+ 398.107, 95.9299,
+ 436.516, 85.8738,
+ 478.63, 76.8718,
+ 524.807, 68.8136,
+ 575.44, 61.6,
+ 630.957, 55.1426,
+ 691.831, 49.3621,
+ 758.578, 44.1876,
+ 831.764, 39.5555,
+ 912.011, 35.409,
+ 1000, 31.6972,
+ 1096.48, 28.3744,
+ 1202.26, 25.4,
+ 1318.26, 22.7374,
+ 1445.44, 20.3539,
+ 1584.89, 18.2202,
+ 1737.8, 16.3103,
+ 1905.46, 14.6005,
+ 2089.3, 13.07,
+ 2290.87, 11.6999,
+ 2511.89, 10.4734,
+ 2754.23, 9.37549,
+ 3019.95, 8.39268,
+ 3311.31, 7.5129,
+ 3630.78, 6.72534,
+ 3981.07, 6.02034,
+ 4365.16, 5.38924,
+ 4786.3, 4.8243,
+ 5248.07, 4.31858,
+ 5754.4, 3.86587,
+ 6309.57, 3.46062,
+ 6918.31, 3.09785,
+ 7585.78, 2.77311,
+ 8317.64, 2.48241,
+ 9120.11, 2.22219]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3C30_642 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 642
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 642
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.29798,
+ -8317.64, 2.57466,
+ -7585.78, 2.88537,
+ -6918.31, 3.23446,
+ -6309.57, 3.62685,
+ -5754.4, 4.06813,
+ -5248.07, 4.56468,
+ -4786.3, 5.12373,
+ -4365.16, 5.75354,
+ -3981.07, 6.46356,
+ -3630.78, 7.26458,
+ -3311.31, 8.16894,
+ -3019.95, 9.19083,
+ -2754.23, 10.3465,
+ -2511.89, 11.6547,
+ -2290.87, 13.137,
+ -2089.3, 14.8184,
+ -1905.46, 16.7272,
+ -1737.8, 18.8976,
+ -1584.89, 21.3675,
+ -1445.44, 24.182,
+ -1318.26, 27.3929,
+ -1202.26, 31.0608,
+ -1096.48, 35.2559,
+ -1000, 40.0595,
+ -912.011, 45.5661,
+ -831.764, 51.8848,
+ -758.578, 59.1411,
+ -691.831, 67.4788,
+ -630.957, 77.0606,
+ -575.44, 88.0687,
+ -524.807, 100.704,
+ -478.63, 115.181,
+ -436.516, 131.723,
+ -398.107, 150.549,
+ -363.078, 171.859,
+ -331.131, 195.804,
+ -301.995, 222.468,
+ -275.423, 251.824,
+ -251.189, 283.711,
+ -229.087, 317.814,
+ -208.93, 353.657,
+ -190.546, 390.627,
+ -173.78, 428.038,
+ -158.489, 465.085,
+ -144.544, 501.166,
+ -131.826, 536.563,
+ -120.226, 565.416,
+ -109.648, 585.32,
+ -100, 599.681,
+ -91.2011, 610.379,
+ -83.1764, 618.595,
+ -75.8578, 624.797,
+ -69.1831, 629.776,
+ -63.0957, 633.705,
+ -57.544, 636.829,
+ -52.4807, 639.328,
+ -47.863, 641.335,
+ -43.6516, 642.72,
+ -1, 642.857,
+ 1, 642.857,
+ 43.6516, 642.72,
+ 47.863, 641.335,
+ 52.4807, 639.328,
+ 57.544, 636.829,
+ 63.0957, 633.705,
+ 69.1831, 629.776,
+ 75.8578, 624.797,
+ 83.1764, 618.595,
+ 91.2011, 610.379,
+ 100, 599.681,
+ 109.648, 585.32,
+ 120.226, 565.416,
+ 131.826, 536.563,
+ 144.544, 501.166,
+ 158.489, 465.085,
+ 173.78, 428.038,
+ 190.546, 390.627,
+ 208.93, 353.657,
+ 229.087, 317.814,
+ 251.189, 283.711,
+ 275.423, 251.824,
+ 301.995, 222.468,
+ 331.131, 195.804,
+ 363.078, 171.859,
+ 398.107, 150.549,
+ 436.516, 131.723,
+ 478.63, 115.181,
+ 524.807, 100.704,
+ 575.44, 88.0687,
+ 630.957, 77.0606,
+ 691.831, 67.4788,
+ 758.578, 59.1411,
+ 831.764, 51.8848,
+ 912.011, 45.5661,
+ 1000, 40.0595,
+ 1096.48, 35.2559,
+ 1202.26, 31.0608,
+ 1318.26, 27.3929,
+ 1445.44, 24.182,
+ 1584.89, 21.3675,
+ 1737.8, 18.8976,
+ 1905.46, 16.7272,
+ 2089.3, 14.8184,
+ 2290.87, 13.137,
+ 2511.89, 11.6547,
+ 2754.23, 10.3465,
+ 3019.95, 9.19083,
+ 3311.31, 8.16894,
+ 3630.78, 7.26458,
+ 3981.07, 6.46356,
+ 4365.16, 5.75354,
+ 4786.3, 5.12373,
+ 5248.07, 4.56468,
+ 5754.4, 4.06813,
+ 6309.57, 3.62685,
+ 6918.31, 3.23446,
+ 7585.78, 2.88537,
+ 8317.64, 2.57466,
+ 9120.11, 2.29798]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3C30_391 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 391
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 391
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.37817,
+ -8317.64, 2.67272,
+ -7585.78, 3.00533,
+ -6918.31, 3.38121,
+ -6309.57, 3.80655,
+ -5754.4, 4.28822,
+ -5248.07, 4.83436,
+ -4786.3, 5.45435,
+ -4365.16, 6.15909,
+ -3981.07, 6.96131,
+ -3630.78, 7.87587,
+ -3311.31, 8.92017,
+ -3019.95, 10.1147,
+ -2754.23, 11.4834,
+ -2511.89, 13.0549,
+ -2290.87, 14.8627,
+ -2089.3, 16.9466,
+ -1905.46, 19.3541,
+ -1737.8, 22.1415,
+ -1584.89, 25.3754,
+ -1445.44, 29.1355,
+ -1318.26, 33.5155,
+ -1202.26, 38.6263,
+ -1096.48, 44.597,
+ -1000, 51.5764,
+ -912.011, 59.7326,
+ -831.764, 69.2498,
+ -758.578, 80.3205,
+ -691.831, 93.1315,
+ -630.957, 107.841,
+ -575.44, 124.546,
+ -524.807, 143.243,
+ -478.63, 163.791,
+ -436.516, 185.879,
+ -398.107, 209.028,
+ -363.078, 232.63,
+ -331.131, 256.016,
+ -301.995, 278.55,
+ -275.423, 299.71,
+ -251.189, 319.131,
+ -229.087, 336.64,
+ -208.93, 352.491,
+ -190.546, 363.733,
+ -173.78, 371.164,
+ -158.489, 376.391,
+ -144.544, 380.216,
+ -131.826, 383.095,
+ -120.226, 385.321,
+ -109.648, 387.009,
+ -100, 388.371,
+ -91.2011, 389.447,
+ -83.1764, 390.304,
+ -75.8578, 390.99,
+ -1, 391.304,
+ 1, 391.304,
+ 75.8578, 390.99,
+ 83.1764, 390.304,
+ 91.2011, 389.447,
+ 100, 388.371,
+ 109.648, 387.009,
+ 120.226, 385.321,
+ 131.826, 383.095,
+ 144.544, 380.216,
+ 158.489, 376.391,
+ 173.78, 371.164,
+ 190.546, 363.733,
+ 208.93, 352.491,
+ 229.087, 336.64,
+ 251.189, 319.131,
+ 275.423, 299.71,
+ 301.995, 278.55,
+ 331.131, 256.016,
+ 363.078, 232.63,
+ 398.107, 209.028,
+ 436.516, 185.879,
+ 478.63, 163.791,
+ 524.807, 143.243,
+ 575.44, 124.546,
+ 630.957, 107.841,
+ 691.831, 93.1315,
+ 758.578, 80.3205,
+ 831.764, 69.2498,
+ 912.011, 59.7326,
+ 1000, 51.5764,
+ 1096.48, 44.597,
+ 1202.26, 38.6263,
+ 1318.26, 33.5155,
+ 1445.44, 29.1355,
+ 1584.89, 25.3754,
+ 1737.8, 22.1415,
+ 1905.46, 19.3541,
+ 2089.3, 16.9466,
+ 2290.87, 14.8627,
+ 2511.89, 13.0549,
+ 2754.23, 11.4834,
+ 3019.95, 10.1147,
+ 3311.31, 8.92017,
+ 3630.78, 7.87587,
+ 3981.07, 6.96131,
+ 4365.16, 6.15909,
+ 4786.3, 5.45435,
+ 5248.07, 4.83436,
+ 5754.4, 4.28822,
+ 6309.57, 3.80655,
+ 6918.31, 3.38121,
+ 7585.78, 3.00533,
+ 8317.64, 2.67272,
+ 9120.11, 2.37817]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3C30_180 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 180
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 180
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.64874,
+ -8317.64, 3.00706,
+ -7585.78, 3.41897,
+ -6918.31, 3.89369,
+ -6309.57, 4.44231,
+ -5754.4, 5.0782,
+ -5248.07, 5.8176,
+ -4786.3, 6.68031,
+ -4365.16, 7.69056,
+ -3981.07, 8.87818,
+ -3630.78, 10.28,
+ -3311.31, 11.9415,
+ -3019.95, 13.9192,
+ -2754.23, 16.2829,
+ -2511.89, 19.1185,
+ -2290.87, 22.5317,
+ -2089.3, 26.6474,
+ -1905.46, 31.6115,
+ -1737.8, 37.5839,
+ -1584.89, 44.7229,
+ -1445.44, 53.1565,
+ -1318.26, 62.9359,
+ -1202.26, 73.9783,
+ -1096.48, 86.0186,
+ -1000, 98.6038,
+ -912.011, 111.156,
+ -831.764, 123.096,
+ -758.578, 133.956,
+ -691.831, 143.482,
+ -630.957, 151.596,
+ -575.44, 158.372,
+ -524.807, 163.96,
+ -478.63, 168.571,
+ -436.516, 172.282,
+ -398.107, 174.594,
+ -363.078, 176.094,
+ -331.131, 177.134,
+ -301.995, 177.889,
+ -275.423, 178.454,
+ -251.189, 178.892,
+ -229.087, 179.213,
+ -208.93, 179.48,
+ -190.546, 179.689,
+ -173.78, 179.854,
+ -158.489, 179.978,
+ -1, 180,
+ 1, 180,
+ 158.489, 179.978,
+ 173.78, 179.854,
+ 190.546, 179.689,
+ 208.93, 179.48,
+ 229.087, 179.213,
+ 251.189, 178.892,
+ 275.423, 178.454,
+ 301.995, 177.889,
+ 331.131, 177.134,
+ 363.078, 176.094,
+ 398.107, 174.594,
+ 436.516, 172.282,
+ 478.63, 168.571,
+ 524.807, 163.96,
+ 575.44, 158.372,
+ 630.957, 151.596,
+ 691.831, 143.482,
+ 758.578, 133.956,
+ 831.764, 123.096,
+ 912.011, 111.156,
+ 1000, 98.6038,
+ 1096.48, 86.0186,
+ 1202.26, 73.9783,
+ 1318.26, 62.9359,
+ 1445.44, 53.1565,
+ 1584.89, 44.7229,
+ 1737.8, 37.5839,
+ 1905.46, 31.6115,
+ 2089.3, 26.6474,
+ 2290.87, 22.5317,
+ 2511.89, 19.1185,
+ 2754.23, 16.2829,
+ 3019.95, 13.9192,
+ 3311.31, 11.9415,
+ 3630.78, 10.28,
+ 3981.07, 8.87818,
+ 4365.16, 7.69056,
+ 4786.3, 6.68031,
+ 5248.07, 5.8176,
+ 5754.4, 5.0782,
+ 6309.57, 4.44231,
+ 6918.31, 3.89369,
+ 7585.78, 3.41897,
+ 8317.64, 3.00706,
+ 9120.11, 2.64874]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3C30_94 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 94
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 94
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 3.22766,
+ -8317.64, 3.7392,
+ -7585.78, 4.34791,
+ -6918.31, 5.07662,
+ -6309.57, 5.95427,
+ -5754.4, 7.01825,
+ -5248.07, 8.31671,
+ -4786.3, 9.9117,
+ -4365.16, 11.8826,
+ -3981.07, 14.3294,
+ -3630.78, 17.3734,
+ -3311.31, 21.1524,
+ -3019.95, 25.8029,
+ -2754.23, 31.4215,
+ -2511.89, 38.0004,
+ -2290.87, 45.357,
+ -2089.3, 53.1038,
+ -1905.46, 60.7172,
+ -1737.8, 67.6956,
+ -1584.89, 73.7091,
+ -1445.44, 78.6496,
+ -1318.26, 82.5813,
+ -1202.26, 85.653,
+ -1096.48, 88.0385,
+ -1000, 89.8912,
+ -912.011, 91.3434,
+ -831.764, 92.4851,
+ -758.578, 93.1821,
+ -691.831, 93.6236,
+ -630.957, 93.9248,
+ -575.44, 94.1409,
+ -524.807, 94.3013,
+ -478.63, 94.4232,
+ -436.516, 94.5186,
+ -398.107, 94.5897,
+ -363.078, 94.6488,
+ -331.131, 94.6952,
+ -301.995, 94.7301,
+ -1, 94.7368,
+ 1, 94.7368,
+ 301.995, 94.7301,
+ 331.131, 94.6952,
+ 363.078, 94.6488,
+ 398.107, 94.5897,
+ 436.516, 94.5186,
+ 478.63, 94.4232,
+ 524.807, 94.3013,
+ 575.44, 94.1409,
+ 630.957, 93.9248,
+ 691.831, 93.6236,
+ 758.578, 93.1821,
+ 831.764, 92.4851,
+ 912.011, 91.3434,
+ 1000, 89.8912,
+ 1096.48, 88.0385,
+ 1202.26, 85.653,
+ 1318.26, 82.5813,
+ 1445.44, 78.6496,
+ 1584.89, 73.7091,
+ 1737.8, 67.6956,
+ 1905.46, 60.7172,
+ 2089.3, 53.1038,
+ 2290.87, 45.357,
+ 2511.89, 38.0004,
+ 2754.23, 31.4215,
+ 3019.95, 25.8029,
+ 3311.31, 21.1524,
+ 3630.78, 17.3734,
+ 3981.07, 14.3294,
+ 4365.16, 11.8826,
+ 4786.3, 9.9117,
+ 5248.07, 8.31671,
+ 5754.4, 7.01825,
+ 6309.57, 5.95427,
+ 6918.31, 5.07662,
+ 7585.78, 4.34791,
+ 8317.64, 3.7392,
+ 9120.11, 3.22766]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3C30_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 5.20396,
+ -8317.64, 6.36993,
+ -7585.78, 7.86857,
+ -6918.31, 9.80279,
+ -6309.57, 12.2913,
+ -5754.4, 15.4427,
+ -5248.07, 19.2978,
+ -4786.3, 23.7405,
+ -4365.16, 28.4454,
+ -3981.07, 32.9496,
+ -3630.78, 36.8537,
+ -3311.31, 39.9717,
+ -3019.95, 42.3284,
+ -2754.23, 44.0586,
+ -2511.89, 45.3174,
+ -2290.87, 46.2349,
+ -2089.3, 46.9126,
+ -1905.46, 47.4195,
+ -1737.8, 47.8084,
+ -1584.89, 48.0965,
+ -1445.44, 48.2654,
+ -1318.26, 48.3739,
+ -1202.26, 48.4483,
+ -1096.48, 48.5019,
+ -1000, 48.5418,
+ -912.011, 48.5722,
+ -831.764, 48.5962,
+ -758.578, 48.6136,
+ -691.831, 48.6285,
+ -630.957, 48.6402,
+ -575.44, 48.648,
+ -1, 48.6486,
+ 1, 48.6486,
+ 575.44, 48.648,
+ 630.957, 48.6402,
+ 691.831, 48.6285,
+ 758.578, 48.6136,
+ 831.764, 48.5962,
+ 912.011, 48.5722,
+ 1000, 48.5418,
+ 1096.48, 48.5019,
+ 1202.26, 48.4483,
+ 1318.26, 48.3739,
+ 1445.44, 48.2654,
+ 1584.89, 48.0965,
+ 1737.8, 47.8084,
+ 1905.46, 47.4195,
+ 2089.3, 46.9126,
+ 2290.87, 46.2349,
+ 2511.89, 45.3174,
+ 2754.23, 44.0586,
+ 3019.95, 42.3284,
+ 3311.31, 39.9717,
+ 3630.78, 36.8537,
+ 3981.07, 32.9496,
+ 4365.16, 28.4454,
+ 4786.3, 23.7405,
+ 5248.07, 19.2978,
+ 5754.4, 15.4427,
+ 6309.57, 12.2913,
+ 6918.31, 9.80279,
+ 7585.78, 7.86857,
+ 8317.64, 6.36993,
+ 9120.11, 5.20396]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3C15_1799 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 1799
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 1799
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.12487,
+ -8317.64, 1.26863,
+ -7585.78, 1.43077,
+ -6918.31, 1.61363,
+ -6309.57, 1.81987,
+ -5754.4, 2.05246,
+ -5248.07, 2.31477,
+ -4786.3, 2.61062,
+ -4365.16, 2.94427,
+ -3981.07, 3.32057,
+ -3630.78, 3.74496,
+ -3311.31, 4.22359,
+ -3019.95, 4.76339,
+ -2754.23, 5.37219,
+ -2511.89, 6.05879,
+ -2290.87, 6.83314,
+ -2089.3, 7.70646,
+ -1905.46, 8.69139,
+ -1737.8, 9.80221,
+ -1584.89, 11.055,
+ -1445.44, 12.4679,
+ -1318.26, 14.0614,
+ -1202.26, 15.8585,
+ -1096.48, 17.8853,
+ -1000, 20.1712,
+ -912.011, 22.7492,
+ -831.764, 25.6567,
+ -758.578, 28.9358,
+ -691.831, 32.634,
+ -630.957, 36.8048,
+ -575.44, 41.5087,
+ -524.807, 46.8138,
+ -478.63, 52.7969,
+ -436.516, 59.5447,
+ -398.107, 67.1549,
+ -363.078, 75.7378,
+ -331.131, 85.4176,
+ -301.995, 96.3345,
+ -275.423, 108.647,
+ -251.189, 122.532,
+ -229.087, 138.193,
+ -208.93, 155.855,
+ -190.546, 175.774,
+ -173.78, 198.239,
+ -158.489, 223.575,
+ -144.544, 252.15,
+ -131.826, 284.376,
+ -120.226, 320.721,
+ -109.648, 361.712,
+ -100, 407.941,
+ -91.2011, 460.078,
+ -83.1764, 518.879,
+ -75.8578, 585.196,
+ -69.1831, 659.987,
+ -63.0957, 744.338,
+ -57.544, 839.469,
+ -52.4807, 950.825,
+ -47.863, 1089.9,
+ -43.6516, 1213.62,
+ -39.8107, 1318.37,
+ -36.3078, 1407.18,
+ -33.1131, 1482.58,
+ -30.1995, 1546.7,
+ -27.5423, 1601.31,
+ -25.1189, 1647.9,
+ -22.9087, 1687.71,
+ -20.893, 1721.8,
+ -19.0546, 1751.03,
+ -17.378, 1776.15,
+ -15.8489, 1796.27,
+ -1, 1800,
+ 1, 1800,
+ 15.8489, 1796.27,
+ 17.378, 1776.15,
+ 19.0546, 1751.03,
+ 20.893, 1721.8,
+ 22.9087, 1687.71,
+ 25.1189, 1647.9,
+ 27.5423, 1601.31,
+ 30.1995, 1546.7,
+ 33.1131, 1482.58,
+ 36.3078, 1407.18,
+ 39.8107, 1318.37,
+ 43.6516, 1213.62,
+ 47.863, 1089.9,
+ 52.4807, 950.825,
+ 57.544, 839.469,
+ 63.0957, 744.338,
+ 69.1831, 659.987,
+ 75.8578, 585.196,
+ 83.1764, 518.879,
+ 91.2011, 460.078,
+ 100, 407.941,
+ 109.648, 361.712,
+ 120.226, 320.721,
+ 131.826, 284.376,
+ 144.544, 252.15,
+ 158.489, 223.575,
+ 173.78, 198.239,
+ 190.546, 175.774,
+ 208.93, 155.855,
+ 229.087, 138.193,
+ 251.189, 122.532,
+ 275.423, 108.647,
+ 301.995, 96.3345,
+ 331.131, 85.4176,
+ 363.078, 75.7378,
+ 398.107, 67.1549,
+ 436.516, 59.5447,
+ 478.63, 52.7969,
+ 524.807, 46.8138,
+ 575.44, 41.5087,
+ 630.957, 36.8048,
+ 691.831, 32.634,
+ 758.578, 28.9358,
+ 831.764, 25.6567,
+ 912.011, 22.7492,
+ 1000, 20.1712,
+ 1096.48, 17.8853,
+ 1202.26, 15.8585,
+ 1318.26, 14.0614,
+ 1445.44, 12.4679,
+ 1584.89, 11.055,
+ 1737.8, 9.80221,
+ 1905.46, 8.69139,
+ 2089.3, 7.70646,
+ 2290.87, 6.83314,
+ 2511.89, 6.05879,
+ 2754.23, 5.37219,
+ 3019.95, 4.76339,
+ 3311.31, 4.22359,
+ 3630.78, 3.74496,
+ 3981.07, 3.32057,
+ 4365.16, 2.94427,
+ 4786.3, 2.61062,
+ 5248.07, 2.31477,
+ 5754.4, 2.05246,
+ 6309.57, 1.81987,
+ 6918.31, 1.61363,
+ 7585.78, 1.43077,
+ 8317.64, 1.26863,
+ 9120.11, 1.12487]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3C15_642 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 642
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 642
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.15822,
+ -8317.64, 1.30973,
+ -7585.78, 1.4814,
+ -6918.31, 1.67601,
+ -6309.57, 1.89671,
+ -5754.4, 2.14713,
+ -5248.07, 2.43141,
+ -4786.3, 2.75431,
+ -4365.16, 3.12131,
+ -3981.07, 3.5387,
+ -3630.78, 4.01373,
+ -3311.31, 4.55478,
+ -3019.95, 5.17153,
+ -2754.23, 5.87518,
+ -2511.89, 6.67874,
+ -2290.87, 7.59734,
+ -2089.3, 8.64857,
+ -1905.46, 9.85299,
+ -1737.8, 11.2346,
+ -1584.89, 12.8216,
+ -1445.44, 14.6469,
+ -1318.26, 16.749,
+ -1202.26, 19.1747,
+ -1096.48, 21.9771,
+ -1000, 25.2201,
+ -912.011, 28.9792,
+ -831.764, 33.3434,
+ -758.578, 38.4181,
+ -691.831, 44.3273,
+ -630.957, 51.217,
+ -575.44, 59.2579,
+ -524.807, 68.6478,
+ -478.63, 79.6132,
+ -436.516, 92.4097,
+ -398.107, 107.317,
+ -363.078, 124.633,
+ -331.131, 144.653,
+ -301.995, 167.65,
+ -275.423, 193.835,
+ -251.189, 223.308,
+ -229.087, 256.013,
+ -208.93, 291.689,
+ -190.546, 329.843,
+ -173.78, 369.764,
+ -158.489, 410.603,
+ -144.544, 451.311,
+ -131.826, 492.932,
+ -120.226, 533.256,
+ -109.648, 561.09,
+ -100, 580.891,
+ -91.2011, 595.607,
+ -83.1764, 606.886,
+ -75.8578, 615.81,
+ -69.1831, 622.738,
+ -63.0957, 628.494,
+ -57.544, 633.195,
+ -52.4807, 637.076,
+ -47.863, 640.309,
+ -43.6516, 642.624,
+ -1, 642.857,
+ 1, 642.857,
+ 43.6516, 642.624,
+ 47.863, 640.309,
+ 52.4807, 637.076,
+ 57.544, 633.195,
+ 63.0957, 628.494,
+ 69.1831, 622.738,
+ 75.8578, 615.81,
+ 83.1764, 606.886,
+ 91.2011, 595.607,
+ 100, 580.891,
+ 109.648, 561.09,
+ 120.226, 533.256,
+ 131.826, 492.932,
+ 144.544, 451.311,
+ 158.489, 410.603,
+ 173.78, 369.764,
+ 190.546, 329.843,
+ 208.93, 291.689,
+ 229.087, 256.013,
+ 251.189, 223.308,
+ 275.423, 193.835,
+ 301.995, 167.65,
+ 331.131, 144.653,
+ 363.078, 124.633,
+ 398.107, 107.317,
+ 436.516, 92.4097,
+ 478.63, 79.6132,
+ 524.807, 68.6478,
+ 575.44, 59.2579,
+ 630.957, 51.217,
+ 691.831, 44.3273,
+ 758.578, 38.4181,
+ 831.764, 33.3434,
+ 912.011, 28.9792,
+ 1000, 25.2201,
+ 1096.48, 21.9771,
+ 1202.26, 19.1747,
+ 1318.26, 16.749,
+ 1445.44, 14.6469,
+ 1584.89, 12.8216,
+ 1737.8, 11.2346,
+ 1905.46, 9.85299,
+ 2089.3, 8.64857,
+ 2290.87, 7.59734,
+ 2511.89, 6.67874,
+ 2754.23, 5.87518,
+ 3019.95, 5.17153,
+ 3311.31, 4.55478,
+ 3630.78, 4.01373,
+ 3981.07, 3.5387,
+ 4365.16, 3.12131,
+ 4786.3, 2.75431,
+ 5248.07, 2.43141,
+ 5754.4, 2.14713,
+ 6309.57, 1.89671,
+ 6918.31, 1.67601,
+ 7585.78, 1.4814,
+ 8317.64, 1.30973,
+ 9120.11, 1.15822]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3C15_391 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 391
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 391
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.19326,
+ -8317.64, 1.35308,
+ -7585.78, 1.53507,
+ -6918.31, 1.74247,
+ -6309.57, 1.97906,
+ -5754.4, 2.2492,
+ -5248.07, 2.558,
+ -4786.3, 2.91136,
+ -4365.16, 3.31635,
+ -3981.07, 3.78103,
+ -3630.78, 4.31506,
+ -3311.31, 4.92977,
+ -3019.95, 5.63859,
+ -2754.23, 6.45746,
+ -2511.89, 7.40539,
+ -2290.87, 8.50509,
+ -2089.3, 9.78382,
+ -1905.46, 11.2744,
+ -1737.8, 13.0164,
+ -1584.89, 15.0577,
+ -1445.44, 17.4567,
+ -1318.26, 20.284,
+ -1202.26, 23.6257,
+ -1096.48, 27.5864,
+ -1000, 32.2929,
+ -912.011, 37.8979,
+ -831.764, 44.5832,
+ -758.578, 52.5616,
+ -691.831, 62.0756,
+ -630.957, 73.3893,
+ -575.44, 86.7706,
+ -524.807, 102.458,
+ -478.63, 120.612,
+ -436.516, 141.246,
+ -398.107, 164.162,
+ -363.078, 188.906,
+ -331.131, 214.776,
+ -301.995, 240.9,
+ -275.423, 266.378,
+ -251.189, 290.424,
+ -229.087, 312.472,
+ -208.93, 333.414,
+ -190.546, 350.824,
+ -173.78, 361.858,
+ -158.489, 369.394,
+ -144.544, 374.848,
+ -131.826, 378.951,
+ -120.226, 382.126,
+ -109.648, 384.655,
+ -100, 386.637,
+ -91.2011, 388.291,
+ -83.1764, 389.647,
+ -75.8578, 390.774,
+ -1, 391.304,
+ 1, 391.304,
+ 75.8578, 390.774,
+ 83.1764, 389.647,
+ 91.2011, 388.291,
+ 100, 386.637,
+ 109.648, 384.655,
+ 120.226, 382.126,
+ 131.826, 378.951,
+ 144.544, 374.848,
+ 158.489, 369.394,
+ 173.78, 361.858,
+ 190.546, 350.824,
+ 208.93, 333.414,
+ 229.087, 312.472,
+ 251.189, 290.424,
+ 275.423, 266.378,
+ 301.995, 240.9,
+ 331.131, 214.776,
+ 363.078, 188.906,
+ 398.107, 164.162,
+ 436.516, 141.246,
+ 478.63, 120.612,
+ 524.807, 102.458,
+ 575.44, 86.7706,
+ 630.957, 73.3893,
+ 691.831, 62.0756,
+ 758.578, 52.5616,
+ 831.764, 44.5832,
+ 912.011, 37.8979,
+ 1000, 32.2929,
+ 1096.48, 27.5864,
+ 1202.26, 23.6257,
+ 1318.26, 20.284,
+ 1445.44, 17.4567,
+ 1584.89, 15.0577,
+ 1737.8, 13.0164,
+ 1905.46, 11.2744,
+ 2089.3, 9.78382,
+ 2290.87, 8.50509,
+ 2511.89, 7.40539,
+ 2754.23, 6.45746,
+ 3019.95, 5.63859,
+ 3311.31, 4.92977,
+ 3630.78, 4.31506,
+ 3981.07, 3.78103,
+ 4365.16, 3.31635,
+ 4786.3, 2.91136,
+ 5248.07, 2.558,
+ 5754.4, 2.2492,
+ 6309.57, 1.97906,
+ 6918.31, 1.74247,
+ 7585.78, 1.53507,
+ 8317.64, 1.35308,
+ 9120.11, 1.19326]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3C15_180 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 180
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 180
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.30968,
+ -8317.64, 1.49852,
+ -7585.78, 1.71698,
+ -6918.31, 1.97032,
+ -6309.57, 2.26486,
+ -5754.4, 2.60831,
+ -5248.07, 3.01001,
+ -4786.3, 3.48147,
+ -4365.16, 4.03687,
+ -3981.07, 4.69381,
+ -3630.78, 5.47428,
+ -3311.31, 6.40593,
+ -3019.95, 7.52373,
+ -2754.23, 8.8722,
+ -2511.89, 10.5082,
+ -2290.87, 12.5046,
+ -2089.3, 14.9551,
+ -1905.46, 17.9787,
+ -1737.8, 21.7274,
+ -1584.89, 26.387,
+ -1445.44, 32.1788,
+ -1318.26, 39.3448,
+ -1202.26, 48.1117,
+ -1096.48, 58.6207,
+ -1000, 70.8247,
+ -912.011, 84.3884,
+ -831.764, 98.6624,
+ -758.578, 112.799,
+ -691.831, 125.982,
+ -630.957, 137.634,
+ -575.44, 147.519,
+ -524.807, 155.66,
+ -478.63, 162.248,
+ -436.516, 167.95,
+ -398.107, 171.838,
+ -363.078, 174.157,
+ -331.131, 175.709,
+ -301.995, 176.814,
+ -275.423, 177.638,
+ -251.189, 178.271,
+ -229.087, 178.776,
+ -208.93, 179.16,
+ -190.546, 179.489,
+ -173.78, 179.757,
+ -158.489, 179.962,
+ -1, 180,
+ 1, 180,
+ 158.489, 179.962,
+ 173.78, 179.757,
+ 190.546, 179.489,
+ 208.93, 179.16,
+ 229.087, 178.776,
+ 251.189, 178.271,
+ 275.423, 177.638,
+ 301.995, 176.814,
+ 331.131, 175.709,
+ 363.078, 174.157,
+ 398.107, 171.838,
+ 436.516, 167.95,
+ 478.63, 162.248,
+ 524.807, 155.66,
+ 575.44, 147.519,
+ 630.957, 137.634,
+ 691.831, 125.982,
+ 758.578, 112.799,
+ 831.764, 98.6624,
+ 912.011, 84.3884,
+ 1000, 70.8247,
+ 1096.48, 58.6207,
+ 1202.26, 48.1117,
+ 1318.26, 39.3448,
+ 1445.44, 32.1788,
+ 1584.89, 26.387,
+ 1737.8, 21.7274,
+ 1905.46, 17.9787,
+ 2089.3, 14.9551,
+ 2290.87, 12.5046,
+ 2511.89, 10.5082,
+ 2754.23, 8.8722,
+ 3019.95, 7.52373,
+ 3311.31, 6.40593,
+ 3630.78, 5.47428,
+ 3981.07, 4.69381,
+ 4365.16, 4.03687,
+ 4786.3, 3.48147,
+ 5248.07, 3.01001,
+ 5754.4, 2.60831,
+ 6309.57, 2.26486,
+ 6918.31, 1.97032,
+ 7585.78, 1.71698,
+ 8317.64, 1.49852,
+ 9120.11, 1.30968]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3C15_94 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 94
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 94
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.55065,
+ -8317.64, 1.80603,
+ -7585.78, 2.11077,
+ -6918.31, 2.4765,
+ -6309.57, 2.91825,
+ -5754.4, 3.45558,
+ -5248.07, 4.11413,
+ -4786.3, 4.92827,
+ -4365.16, 5.94363,
+ -3981.07, 7.22202,
+ -3630.78, 8.847,
+ -3311.31, 10.9312,
+ -3019.95, 13.6236,
+ -2754.23, 17.1141,
+ -2511.89, 21.6235,
+ -2290.87, 27.3624,
+ -2089.3, 34.4348,
+ -1905.46, 42.691,
+ -1737.8, 51.6189,
+ -1584.89, 60.4283,
+ -1445.44, 68.3542,
+ -1318.26, 74.949,
+ -1202.26, 80.1423,
+ -1096.48, 84.0983,
+ -1000, 87.0783,
+ -912.011, 89.3189,
+ -831.764, 91.1213,
+ -758.578, 92.3541,
+ -691.831, 93.0547,
+ -630.957, 93.5127,
+ -575.44, 93.8334,
+ -524.807, 94.0695,
+ -478.63, 94.2494,
+ -436.516, 94.3901,
+ -398.107, 94.5033,
+ -363.078, 94.5919,
+ -331.131, 94.6672,
+ -301.995, 94.7253,
+ -1, 94.7368,
+ 1, 94.7368,
+ 301.995, 94.7253,
+ 331.131, 94.6672,
+ 363.078, 94.5919,
+ 398.107, 94.5033,
+ 436.516, 94.3901,
+ 478.63, 94.2494,
+ 524.807, 94.0695,
+ 575.44, 93.8334,
+ 630.957, 93.5127,
+ 691.831, 93.0547,
+ 758.578, 92.3541,
+ 831.764, 91.1213,
+ 912.011, 89.3189,
+ 1000, 87.0783,
+ 1096.48, 84.0983,
+ 1202.26, 80.1423,
+ 1318.26, 74.949,
+ 1445.44, 68.3542,
+ 1584.89, 60.4283,
+ 1737.8, 51.6189,
+ 1905.46, 42.691,
+ 2089.3, 34.4348,
+ 2290.87, 27.3624,
+ 2511.89, 21.6235,
+ 2754.23, 17.1141,
+ 3019.95, 13.6236,
+ 3311.31, 10.9312,
+ 3630.78, 8.847,
+ 3981.07, 7.22202,
+ 4365.16, 5.94363,
+ 4786.3, 4.92827,
+ 5248.07, 4.11413,
+ 5754.4, 3.45558,
+ 6309.57, 2.91825,
+ 6918.31, 2.4765,
+ 7585.78, 2.11077,
+ 8317.64, 1.80603,
+ 9120.11, 1.55065]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3C15_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.31979,
+ -8317.64, 2.84001,
+ -7585.78, 3.51412,
+ -6918.31, 4.40081,
+ -6309.57, 5.58476,
+ -5754.4, 7.18689,
+ -5248.07, 9.37246,
+ -4786.3, 12.3426,
+ -4365.16, 16.2766,
+ -3981.07, 21.1803,
+ -3630.78, 26.6954,
+ -3311.31, 32.1122,
+ -3019.95, 36.7401,
+ -2754.23, 40.28,
+ -2511.89, 42.8117,
+ -2290.87, 44.5726,
+ -2089.3, 45.796,
+ -1905.46, 46.6562,
+ -1737.8, 47.2741,
+ -1584.89, 47.7616,
+ -1445.44, 48.0605,
+ -1318.26, 48.2318,
+ -1202.26, 48.3453,
+ -1096.48, 48.4252,
+ -1000, 48.4841,
+ -912.011, 48.5292,
+ -831.764, 48.5646,
+ -758.578, 48.5932,
+ -691.831, 48.6153,
+ -630.957, 48.6344,
+ -575.44, 48.6475,
+ -1, 48.6486,
+ 1, 48.6486,
+ 575.44, 48.6475,
+ 630.957, 48.6344,
+ 691.831, 48.6153,
+ 758.578, 48.5932,
+ 831.764, 48.5646,
+ 912.011, 48.5292,
+ 1000, 48.4841,
+ 1096.48, 48.4252,
+ 1202.26, 48.3453,
+ 1318.26, 48.2318,
+ 1445.44, 48.0605,
+ 1584.89, 47.7616,
+ 1737.8, 47.2741,
+ 1905.46, 46.6562,
+ 2089.3, 45.796,
+ 2290.87, 44.5726,
+ 2511.89, 42.8117,
+ 2754.23, 40.28,
+ 3019.95, 36.7401,
+ 3311.31, 32.1122,
+ 3630.78, 26.6954,
+ 3981.07, 21.1803,
+ 4365.16, 16.2766,
+ 4786.3, 12.3426,
+ 5248.07, 9.37246,
+ 5754.4, 7.18689,
+ 6309.57, 5.58476,
+ 6918.31, 4.40081,
+ 7585.78, 3.51412,
+ 8317.64, 2.84001,
+ 9120.11, 2.31979]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3C10_1799 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 1799
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 1799
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.936616,
+ -8317.64, 1.06459,
+ -7585.78, 1.21004,
+ -6918.31, 1.37537,
+ -6309.57, 1.56329,
+ -5754.4, 1.77689,
+ -5248.07, 2.01967,
+ -4786.3, 2.29562,
+ -4365.16, 2.60927,
+ -3981.07, 2.96578,
+ -3630.78, 3.371,
+ -3311.31, 3.83158,
+ -3019.95, 4.35509,
+ -2754.23, 4.95014,
+ -2511.89, 5.62648,
+ -2290.87, 6.39523,
+ -2089.3, 7.26902,
+ -1905.46, 8.2622,
+ -1737.8, 9.39108,
+ -1584.89, 10.6742,
+ -1445.44, 12.1326,
+ -1318.26, 13.7903,
+ -1202.26, 15.6745,
+ -1096.48, 17.8161,
+ -1000, 20.2504,
+ -912.011, 23.0172,
+ -831.764, 26.1621,
+ -758.578, 29.7367,
+ -691.831, 33.7996,
+ -630.957, 38.4177,
+ -575.44, 43.6668,
+ -524.807, 49.633,
+ -478.63, 56.4145,
+ -436.516, 64.1225,
+ -398.107, 72.8836,
+ -363.078, 82.8418,
+ -331.131, 94.1606,
+ -301.995, 107.026,
+ -275.423, 121.649,
+ -251.189, 138.27,
+ -229.087, 157.162,
+ -208.93, 178.635,
+ -190.546, 203.043,
+ -173.78, 230.785,
+ -158.489, 262.317,
+ -144.544, 298.158,
+ -131.826, 338.895,
+ -120.226, 385.199,
+ -109.648, 437.829,
+ -100, 497.651,
+ -91.2011, 565.645,
+ -83.1764, 642.93,
+ -75.8578, 730.775,
+ -69.1831, 830.622,
+ -63.0957, 940.961,
+ -57.544, 1035.44,
+ -52.4807, 1120.36,
+ -47.863, 1199.62,
+ -43.6516, 1273.43,
+ -39.8107, 1342,
+ -36.3078, 1405.57,
+ -33.1131, 1464.43,
+ -30.1995, 1518.83,
+ -27.5423, 1569.04,
+ -25.1189, 1615.34,
+ -22.9087, 1657.98,
+ -20.893, 1697.22,
+ -19.0546, 1733.29,
+ -17.378, 1766.42,
+ -15.8489, 1794.61,
+ -1, 1800,
+ 1, 1800,
+ 15.8489, 1794.61,
+ 17.378, 1766.42,
+ 19.0546, 1733.29,
+ 20.893, 1697.22,
+ 22.9087, 1657.98,
+ 25.1189, 1615.34,
+ 27.5423, 1569.04,
+ 30.1995, 1518.83,
+ 33.1131, 1464.43,
+ 36.3078, 1405.57,
+ 39.8107, 1342,
+ 43.6516, 1273.43,
+ 47.863, 1199.62,
+ 52.4807, 1120.36,
+ 57.544, 1035.44,
+ 63.0957, 940.961,
+ 69.1831, 830.622,
+ 75.8578, 730.775,
+ 83.1764, 642.93,
+ 91.2011, 565.645,
+ 100, 497.651,
+ 109.648, 437.829,
+ 120.226, 385.199,
+ 131.826, 338.895,
+ 144.544, 298.158,
+ 158.489, 262.317,
+ 173.78, 230.785,
+ 190.546, 203.043,
+ 208.93, 178.635,
+ 229.087, 157.162,
+ 251.189, 138.27,
+ 275.423, 121.649,
+ 301.995, 107.026,
+ 331.131, 94.1606,
+ 363.078, 82.8418,
+ 398.107, 72.8836,
+ 436.516, 64.1225,
+ 478.63, 56.4145,
+ 524.807, 49.633,
+ 575.44, 43.6668,
+ 630.957, 38.4177,
+ 691.831, 33.7996,
+ 758.578, 29.7367,
+ 831.764, 26.1621,
+ 912.011, 23.0172,
+ 1000, 20.2504,
+ 1096.48, 17.8161,
+ 1202.26, 15.6745,
+ 1318.26, 13.7903,
+ 1445.44, 12.1326,
+ 1584.89, 10.6742,
+ 1737.8, 9.39108,
+ 1905.46, 8.2622,
+ 2089.3, 7.26902,
+ 2290.87, 6.39523,
+ 2511.89, 5.62648,
+ 2754.23, 4.95014,
+ 3019.95, 4.35509,
+ 3311.31, 3.83158,
+ 3630.78, 3.371,
+ 3981.07, 2.96578,
+ 4365.16, 2.60927,
+ 4786.3, 2.29562,
+ 5248.07, 2.01967,
+ 5754.4, 1.77689,
+ 6309.57, 1.56329,
+ 6918.31, 1.37537,
+ 7585.78, 1.21004,
+ 8317.64, 1.06459,
+ 9120.11, 0.936616]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3C10_642 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 642
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 642
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.968515,
+ -8317.64, 1.10425,
+ -7585.78, 1.25937,
+ -6918.31, 1.43671,
+ -6309.57, 1.63957,
+ -5754.4, 1.87175,
+ -5248.07, 2.13765,
+ -4786.3, 2.44237,
+ -4365.16, 2.79182,
+ -3981.07, 3.19288,
+ -3630.78, 3.65356,
+ -3311.31, 4.18318,
+ -3019.95, 4.79267,
+ -2754.23, 5.4948,
+ -2511.89, 6.30455,
+ -2290.87, 7.23954,
+ -2089.3, 8.32055,
+ -1905.46, 9.57207,
+ -1737.8, 11.0231,
+ -1584.89, 12.7081,
+ -1445.44, 14.6677,
+ -1318.26, 16.9513,
+ -1202.26, 19.6164,
+ -1096.48, 22.7326,
+ -1000, 26.383,
+ -912.011, 30.667,
+ -831.764, 35.7034,
+ -758.578, 41.634,
+ -691.831, 48.6274,
+ -630.957, 56.8829,
+ -575.44, 66.6338,
+ -524.807, 78.1495,
+ -478.63, 91.7348,
+ -436.516, 107.724,
+ -398.107, 126.468,
+ -363.078, 148.311,
+ -331.131, 173.549,
+ -301.995, 202.38,
+ -275.423, 234.841,
+ -251.189, 270.741,
+ -229.087, 309.62,
+ -208.93, 350.742,
+ -190.546, 393.144,
+ -173.78, 435.777,
+ -158.489, 477.085,
+ -144.544, 508.695,
+ -131.826, 532.285,
+ -120.226, 551.559,
+ -109.648, 567.55,
+ -100, 580.987,
+ -91.2011, 592.395,
+ -83.1764, 602.166,
+ -75.8578, 610.597,
+ -69.1831, 617.97,
+ -63.0957, 624.273,
+ -57.544, 629.908,
+ -52.4807, 634.86,
+ -47.863, 639.233,
+ -43.6516, 642.518,
+ -1, 642.857,
+ 1, 642.857,
+ 43.6516, 642.518,
+ 47.863, 639.233,
+ 52.4807, 634.86,
+ 57.544, 629.908,
+ 63.0957, 624.273,
+ 69.1831, 617.97,
+ 75.8578, 610.597,
+ 83.1764, 602.166,
+ 91.2011, 592.395,
+ 100, 580.987,
+ 109.648, 567.55,
+ 120.226, 551.559,
+ 131.826, 532.285,
+ 144.544, 508.695,
+ 158.489, 477.085,
+ 173.78, 435.777,
+ 190.546, 393.144,
+ 208.93, 350.742,
+ 229.087, 309.62,
+ 251.189, 270.741,
+ 275.423, 234.841,
+ 301.995, 202.38,
+ 331.131, 173.549,
+ 363.078, 148.311,
+ 398.107, 126.468,
+ 436.516, 107.724,
+ 478.63, 91.7348,
+ 524.807, 78.1495,
+ 575.44, 66.6338,
+ 630.957, 56.8829,
+ 691.831, 48.6274,
+ 758.578, 41.634,
+ 831.764, 35.7034,
+ 912.011, 30.667,
+ 1000, 26.383,
+ 1096.48, 22.7326,
+ 1202.26, 19.6164,
+ 1318.26, 16.9513,
+ 1445.44, 14.6677,
+ 1584.89, 12.7081,
+ 1737.8, 11.0231,
+ 1905.46, 9.57207,
+ 2089.3, 8.32055,
+ 2290.87, 7.23954,
+ 2511.89, 6.30455,
+ 2754.23, 5.4948,
+ 3019.95, 4.79267,
+ 3311.31, 4.18318,
+ 3630.78, 3.65356,
+ 3981.07, 3.19288,
+ 4365.16, 2.79182,
+ 4786.3, 2.44237,
+ 5248.07, 2.13765,
+ 5754.4, 1.87175,
+ 6309.57, 1.63957,
+ 6918.31, 1.43671,
+ 7585.78, 1.25937,
+ 8317.64, 1.10425,
+ 9120.11, 0.968515]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3C10_391 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 391
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 391
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.00224,
+ -8317.64, 1.1464,
+ -7585.78, 1.31207,
+ -6918.31, 1.50265,
+ -6309.57, 1.72211,
+ -5754.4, 1.97513,
+ -5248.07, 2.26723,
+ -4786.3, 2.60486,
+ -4365.16, 2.99583,
+ -3981.07, 3.44921,
+ -3630.78, 3.97592,
+ -3311.31, 4.58901,
+ -3019.95, 5.30414,
+ -2754.23, 6.14018,
+ -2511.89, 7.11993,
+ -2290.87, 8.2711,
+ -2089.3, 9.62742,
+ -1905.46, 11.2302,
+ -1737.8, 13.13,
+ -1584.89, 15.3893,
+ -1445.44, 18.0851,
+ -1318.26, 21.3123,
+ -1202.26, 25.1883,
+ -1096.48, 29.8579,
+ -1000, 35.4978,
+ -912.011, 42.3221,
+ -831.764, 50.585,
+ -758.578, 60.5786,
+ -691.831, 72.6226,
+ -630.957, 87.038,
+ -575.44, 104.099,
+ -524.807, 123.959,
+ -478.63, 146.564,
+ -436.516, 171.562,
+ -398.107, 198.278,
+ -363.078, 225.767,
+ -331.131, 252.964,
+ -301.995, 278.879,
+ -275.423, 302.761,
+ -251.189, 323.898,
+ -229.087, 338.568,
+ -208.93, 348.942,
+ -190.546, 357.06,
+ -173.78, 363.562,
+ -158.489, 368.875,
+ -144.544, 373.286,
+ -131.826, 376.995,
+ -120.226, 380.147,
+ -109.648, 382.887,
+ -100, 385.152,
+ -91.2011, 387.201,
+ -83.1764, 388.982,
+ -75.8578, 390.542,
+ -1, 391.304,
+ 1, 391.304,
+ 75.8578, 390.542,
+ 83.1764, 388.982,
+ 91.2011, 387.201,
+ 100, 385.152,
+ 109.648, 382.887,
+ 120.226, 380.147,
+ 131.826, 376.995,
+ 144.544, 373.286,
+ 158.489, 368.875,
+ 173.78, 363.562,
+ 190.546, 357.06,
+ 208.93, 348.942,
+ 229.087, 338.568,
+ 251.189, 323.898,
+ 275.423, 302.761,
+ 301.995, 278.879,
+ 331.131, 252.964,
+ 363.078, 225.767,
+ 398.107, 198.278,
+ 436.516, 171.562,
+ 478.63, 146.564,
+ 524.807, 123.959,
+ 575.44, 104.099,
+ 630.957, 87.038,
+ 691.831, 72.6226,
+ 758.578, 60.5786,
+ 831.764, 50.585,
+ 912.011, 42.3221,
+ 1000, 35.4978,
+ 1096.48, 29.8579,
+ 1202.26, 25.1883,
+ 1318.26, 21.3123,
+ 1445.44, 18.0851,
+ 1584.89, 15.3893,
+ 1737.8, 13.13,
+ 1905.46, 11.2302,
+ 2089.3, 9.62742,
+ 2290.87, 8.2711,
+ 2511.89, 7.11993,
+ 2754.23, 6.14018,
+ 3019.95, 5.30414,
+ 3311.31, 4.58901,
+ 3630.78, 3.97592,
+ 3981.07, 3.44921,
+ 4365.16, 2.99583,
+ 4786.3, 2.60486,
+ 5248.07, 2.26723,
+ 5754.4, 1.97513,
+ 6309.57, 1.72211,
+ 6918.31, 1.50265,
+ 7585.78, 1.31207,
+ 8317.64, 1.1464,
+ 9120.11, 1.00224]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3C10_180 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 180
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 180
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.1159,
+ -8317.64, 1.29004,
+ -7585.78, 1.49387,
+ -6918.31, 1.73314,
+ -6309.57, 2.01489,
+ -5754.4, 2.34779,
+ -5248.07, 2.74262,
+ -4786.3, 3.21285,
+ -4365.16, 3.77542,
+ -3981.07, 4.4518,
+ -3630.78, 5.26943,
+ -3311.31, 6.26359,
+ -3019.95, 7.48003,
+ -2754.23, 8.97839,
+ -2511.89, 10.8369,
+ -2290.87, 13.1583,
+ -2089.3, 16.0771,
+ -1905.46, 19.7692,
+ -1737.8, 24.457,
+ -1584.89, 30.4126,
+ -1445.44, 37.9414,
+ -1318.26, 47.3324,
+ -1202.26, 58.7572,
+ -1096.48, 72.1196,
+ -1000, 86.9217,
+ -912.011, 102.27,
+ -831.764, 117.097,
+ -758.578, 130.507,
+ -691.831, 141.986,
+ -630.957, 151.447,
+ -575.44, 159.055,
+ -524.807, 164.948,
+ -478.63, 168.559,
+ -436.516, 171.029,
+ -398.107, 172.877,
+ -363.078, 174.32,
+ -331.131, 175.473,
+ -301.995, 176.414,
+ -275.423, 177.195,
+ -251.189, 177.85,
+ -229.087, 178.407,
+ -208.93, 178.889,
+ -190.546, 179.293,
+ -173.78, 179.654,
+ -158.489, 179.946,
+ -1, 180,
+ 1, 180,
+ 158.489, 179.946,
+ 173.78, 179.654,
+ 190.546, 179.293,
+ 208.93, 178.889,
+ 229.087, 178.407,
+ 251.189, 177.85,
+ 275.423, 177.195,
+ 301.995, 176.414,
+ 331.131, 175.473,
+ 363.078, 174.32,
+ 398.107, 172.877,
+ 436.516, 171.029,
+ 478.63, 168.559,
+ 524.807, 164.948,
+ 575.44, 159.055,
+ 630.957, 151.447,
+ 691.831, 141.986,
+ 758.578, 130.507,
+ 831.764, 117.097,
+ 912.011, 102.27,
+ 1000, 86.9217,
+ 1096.48, 72.1196,
+ 1202.26, 58.7572,
+ 1318.26, 47.3324,
+ 1445.44, 37.9414,
+ 1584.89, 30.4126,
+ 1737.8, 24.457,
+ 1905.46, 19.7692,
+ 2089.3, 16.0771,
+ 2290.87, 13.1583,
+ 2511.89, 10.8369,
+ 2754.23, 8.97839,
+ 3019.95, 7.48003,
+ 3311.31, 6.26359,
+ 3630.78, 5.26943,
+ 3981.07, 4.4518,
+ 4365.16, 3.77542,
+ 4786.3, 3.21285,
+ 5248.07, 2.74262,
+ 5754.4, 2.34779,
+ 6309.57, 2.01489,
+ 6918.31, 1.73314,
+ 7585.78, 1.49387,
+ 8317.64, 1.29004,
+ 9120.11, 1.1159]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3C10_94 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 94
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 94
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.35888,
+ -8317.64, 1.60499,
+ -7585.78, 1.90388,
+ -6918.31, 2.26945,
+ -6309.57, 2.72014,
+ -5754.4, 3.28063,
+ -5248.07, 3.98455,
+ -4786.3, 4.87791,
+ -4365.16, 6.02467,
+ -3981.07, 7.51419,
+ -3630.78, 9.47154,
+ -3311.31, 12.0698,
+ -3019.95, 15.5402,
+ -2754.23, 20.1677,
+ -2511.89, 26.2413,
+ -2290.87, 33.9172,
+ -2089.3, 42.9953,
+ -1905.46, 52.7633,
+ -1737.8, 62.175,
+ -1584.89, 70.3364,
+ -1445.44, 76.8574,
+ -1318.26, 81.8078,
+ -1202.26, 85.4771,
+ -1096.48, 88.1825,
+ -1000, 90.1684,
+ -912.011, 91.3616,
+ -831.764, 92.1288,
+ -758.578, 92.6837,
+ -691.831, 93.1121,
+ -630.957, 93.449,
+ -575.44, 93.7208,
+ -524.807, 93.9443,
+ -478.63, 94.1308,
+ -436.516, 94.2882,
+ -398.107, 94.4252,
+ -363.078, 94.5356,
+ -331.131, 94.6378,
+ -301.995, 94.7201,
+ -1, 94.7368,
+ 1, 94.7368,
+ 301.995, 94.7201,
+ 331.131, 94.6378,
+ 363.078, 94.5356,
+ 398.107, 94.4252,
+ 436.516, 94.2882,
+ 478.63, 94.1308,
+ 524.807, 93.9443,
+ 575.44, 93.7208,
+ 630.957, 93.449,
+ 691.831, 93.1121,
+ 758.578, 92.6837,
+ 831.764, 92.1288,
+ 912.011, 91.3616,
+ 1000, 90.1684,
+ 1096.48, 88.1825,
+ 1202.26, 85.4771,
+ 1318.26, 81.8078,
+ 1445.44, 76.8574,
+ 1584.89, 70.3364,
+ 1737.8, 62.175,
+ 1905.46, 52.7633,
+ 2089.3, 42.9953,
+ 2290.87, 33.9172,
+ 2511.89, 26.2413,
+ 2754.23, 20.1677,
+ 3019.95, 15.5402,
+ 3311.31, 12.0698,
+ 3630.78, 9.47154,
+ 3981.07, 7.51419,
+ 4365.16, 6.02467,
+ 4786.3, 4.87791,
+ 5248.07, 3.98455,
+ 5754.4, 3.28063,
+ 6309.57, 2.72014,
+ 6918.31, 2.26945,
+ 7585.78, 1.90388,
+ 8317.64, 1.60499,
+ 9120.11, 1.35888]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3C10_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.20173,
+ -8317.64, 2.77134,
+ -7585.78, 3.53866,
+ -6918.31, 4.59256,
+ -6309.57, 6.0675,
+ -5754.4, 8.16152,
+ -5248.07, 11.1402,
+ -4786.3, 15.2768,
+ -4365.16, 20.6377,
+ -3981.07, 26.7651,
+ -3630.78, 32.6877,
+ -3311.31, 37.5383,
+ -3019.95, 41.063,
+ -2754.23, 43.4716,
+ -2511.89, 45.0917,
+ -2290.87, 46.1929,
+ -2089.3, 46.9572,
+ -1905.46, 47.4875,
+ -1737.8, 47.7879,
+ -1584.89, 47.9847,
+ -1445.44, 48.1286,
+ -1318.26, 48.2376,
+ -1202.26, 48.324,
+ -1096.48, 48.3937,
+ -1000, 48.4509,
+ -912.011, 48.4986,
+ -831.764, 48.5389,
+ -758.578, 48.5742,
+ -691.831, 48.6018,
+ -630.957, 48.6282,
+ -575.44, 48.6469,
+ -1, 48.6486,
+ 1, 48.6486,
+ 575.44, 48.6469,
+ 630.957, 48.6282,
+ 691.831, 48.6018,
+ 758.578, 48.5742,
+ 831.764, 48.5389,
+ 912.011, 48.4986,
+ 1000, 48.4509,
+ 1096.48, 48.3937,
+ 1202.26, 48.324,
+ 1318.26, 48.2376,
+ 1445.44, 48.1286,
+ 1584.89, 47.9847,
+ 1737.8, 47.7879,
+ 1905.46, 47.4875,
+ 2089.3, 46.9572,
+ 2290.87, 46.1929,
+ 2511.89, 45.0917,
+ 2754.23, 43.4716,
+ 3019.95, 41.063,
+ 3311.31, 37.5383,
+ 3630.78, 32.6877,
+ 3981.07, 26.7651,
+ 4365.16, 20.6377,
+ 4786.3, 15.2768,
+ 5248.07, 11.1402,
+ 5754.4, 8.16152,
+ 6309.57, 6.0675,
+ 6918.31, 4.59256,
+ 7585.78, 3.53866,
+ 8317.64, 2.77134,
+ 9120.11, 2.20173]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0

.subckt tx_3B8_2300 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 2300
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 2300
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.659137,
+ -8317.64, 0.760483,
+ -7585.78, 0.877411,
+ -6918.31, 1.01232,
+ -6309.57, 1.16797,
+ -5754.4, 1.34755,
+ -5248.07, 1.55474,
+ -4786.3, 1.79379,
+ -4365.16, 2.06959,
+ -3981.07, 2.3878,
+ -3630.78, 2.75494,
+ -3311.31, 3.17853,
+ -3019.95, 3.66724,
+ -2754.23, 4.2311,
+ -2511.89, 4.88166,
+ -2290.87, 5.63224,
+ -2089.3, 6.49822,
+ -1905.46, 7.49736,
+ -1737.8, 8.65011,
+ -1584.89, 9.98011,
+ -1445.44, 11.5146,
+ -1318.26, 13.285,
+ -1202.26, 15.3277,
+ -1096.48, 17.6844,
+ -1000, 20.4035,
+ -912.011, 23.5406,
+ -831.764, 27.1601,
+ -758.578, 31.3361,
+ -691.831, 36.1542,
+ -630.957, 41.7131,
+ -575.44, 48.1267,
+ -524.807, 55.5264,
+ -478.63, 64.0639,
+ -436.516, 73.914,
+ -398.107, 85.2787,
+ -363.078, 98.3907,
+ -331.131, 113.519,
+ -301.995, 130.973,
+ -275.423, 151.111,
+ -251.189, 174.345,
+ -229.087, 201.151,
+ -208.93, 232.079,
+ -190.546, 267.763,
+ -173.78, 308.932,
+ -158.489, 356.432,
+ -144.544, 411.236,
+ -131.826, 474.465,
+ -120.226, 547.417,
+ -109.648, 631.585,
+ -100, 728.695,
+ -91.2011, 840.735,
+ -83.1764, 970.003,
+ -75.8578, 1119.15,
+ -69.1831, 1291.22,
+ -63.0957, 1485.71,
+ -57.544, 1657.25,
+ -52.4807, 1794.81,
+ -47.863, 1906.65,
+ -43.6516, 1997.3,
+ -39.8107, 2070.55,
+ -36.3078, 2129.51,
+ -33.1131, 2176.77,
+ -30.1995, 2214.43,
+ -27.5423, 2244.27,
+ -25.1189, 2267.74,
+ -22.9087, 2286.01,
+ -20.893, 2298.51,
+ -1, 2300,
+ 1, 2300,
+ 20.893, 2298.51,
+ 22.9087, 2286.01,
+ 25.1189, 2267.74,
+ 27.5423, 2244.27,
+ 30.1995, 2214.43,
+ 33.1131, 2176.77,
+ 36.3078, 2129.51,
+ 39.8107, 2070.55,
+ 43.6516, 1997.3,
+ 47.863, 1906.65,
+ 52.4807, 1794.81,
+ 57.544, 1657.25,
+ 63.0957, 1485.71,
+ 69.1831, 1291.22,
+ 75.8578, 1119.15,
+ 83.1764, 970.003,
+ 91.2011, 840.735,
+ 100, 728.695,
+ 109.648, 631.585,
+ 120.226, 547.417,
+ 131.826, 474.465,
+ 144.544, 411.236,
+ 158.489, 356.432,
+ 173.78, 308.932,
+ 190.546, 267.763,
+ 208.93, 232.079,
+ 229.087, 201.151,
+ 251.189, 174.345,
+ 275.423, 151.111,
+ 301.995, 130.973,
+ 331.131, 113.519,
+ 363.078, 98.3907,
+ 398.107, 85.2787,
+ 436.516, 73.914,
+ 478.63, 64.0639,
+ 524.807, 55.5264,
+ 575.44, 48.1267,
+ 630.957, 41.7131,
+ 691.831, 36.1542,
+ 758.578, 31.3361,
+ 831.764, 27.1601,
+ 912.011, 23.5406,
+ 1000, 20.4035,
+ 1096.48, 17.6844,
+ 1202.26, 15.3277,
+ 1318.26, 13.285,
+ 1445.44, 11.5146,
+ 1584.89, 9.98011,
+ 1737.8, 8.65011,
+ 1905.46, 7.49736,
+ 2089.3, 6.49822,
+ 2290.87, 5.63224,
+ 2511.89, 4.88166,
+ 2754.23, 4.2311,
+ 3019.95, 3.66724,
+ 3311.31, 3.17853,
+ 3630.78, 2.75494,
+ 3981.07, 2.3878,
+ 4365.16, 2.06959,
+ 4786.3, 1.79379,
+ 5248.07, 1.55474,
+ 5754.4, 1.34755,
+ 6309.57, 1.16797,
+ 6918.31, 1.01232,
+ 7585.78, 0.877411,
+ 8317.64, 0.760483,
+ 9120.11, 0.659137]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.001

.subckt tx_3B8_696 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 696
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 696
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.692707,
+ -8317.64, 0.802996,
+ -7585.78, 0.931261,
+ -6918.31, 1.08054,
+ -6309.57, 1.25442,
+ -5754.4, 1.45714,
+ -5248.07, 1.6937,
+ -4786.3, 1.97005,
+ -4365.16, 2.29325,
+ -3981.07, 2.67171,
+ -3630.78, 3.1155,
+ -3311.31, 3.63665,
+ -3019.95, 4.24965,
+ -2754.23, 4.97196,
+ -2511.89, 5.82467,
+ -2290.87, 6.83343,
+ -2089.3, 8.02946,
+ -1905.46, 9.45069,
+ -1737.8, 11.1446,
+ -1584.89, 13.1683,
+ -1445.44, 15.5936,
+ -1318.26, 18.5091,
+ -1202.26, 22.0254,
+ -1096.48, 26.2804,
+ -1000, 31.4468,
+ -912.011, 37.7407,
+ -831.764, 45.4322,
+ -758.578, 54.8567,
+ -691.831, 66.4272,
+ -630.957, 80.6436,
+ -575.44, 98.0948,
+ -524.807, 119.444,
+ -478.63, 145.387,
+ -436.516, 176.564,
+ -398.107, 213.415,
+ -363.078, 255.997,
+ -331.131, 303.791,
+ -301.995, 355.598,
+ -275.423, 409.621,
+ -251.189, 463.734,
+ -229.087, 515.914,
+ -208.93, 564.407,
+ -190.546, 606.21,
+ -173.78, 633.287,
+ -158.489, 651.177,
+ -144.544, 663.739,
+ -131.826, 672.866,
+ -120.226, 679.681,
+ -109.648, 684.728,
+ -100, 688.634,
+ -91.2011, 691.612,
+ -83.1764, 693.886,
+ -75.8578, 695.62,
+ -69.1831, 696.81,
+ -1, 696.97,
+ 1, 696.97,
+ 69.1831, 696.81,
+ 75.8578, 695.62,
+ 83.1764, 693.886,
+ 91.2011, 691.612,
+ 100, 688.634,
+ 109.648, 684.728,
+ 120.226, 679.681,
+ 131.826, 672.866,
+ 144.544, 663.739,
+ 158.489, 651.177,
+ 173.78, 633.287,
+ 190.546, 606.21,
+ 208.93, 564.407,
+ 229.087, 515.914,
+ 251.189, 463.734,
+ 275.423, 409.621,
+ 301.995, 355.598,
+ 331.131, 303.791,
+ 363.078, 255.997,
+ 398.107, 213.415,
+ 436.516, 176.564,
+ 478.63, 145.387,
+ 524.807, 119.444,
+ 575.44, 98.0948,
+ 630.957, 80.6436,
+ 691.831, 66.4272,
+ 758.578, 54.8567,
+ 831.764, 45.4322,
+ 912.011, 37.7407,
+ 1000, 31.4468,
+ 1096.48, 26.2804,
+ 1202.26, 22.0254,
+ 1318.26, 18.5091,
+ 1445.44, 15.5936,
+ 1584.89, 13.1683,
+ 1737.8, 11.1446,
+ 1905.46, 9.45069,
+ 2089.3, 8.02946,
+ 2290.87, 6.83343,
+ 2511.89, 5.82467,
+ 2754.23, 4.97196,
+ 3019.95, 4.24965,
+ 3311.31, 3.63665,
+ 3630.78, 3.1155,
+ 3981.07, 2.67171,
+ 4365.16, 2.29325,
+ 4786.3, 1.97005,
+ 5248.07, 1.6937,
+ 5754.4, 1.45714,
+ 6309.57, 1.25442,
+ 6918.31, 1.08054,
+ 7585.78, 0.931261,
+ 8317.64, 0.802996,
+ 9120.11, 0.692707]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.002

.subckt tx_3B8_410 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 410
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 410
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.729111,
+ -8317.64, 0.849456,
+ -7585.78, 0.990608,
+ -6918.31, 1.15643,
+ -6309.57, 1.35157,
+ -5754.4, 1.58163,
+ -5248.07, 1.8535,
+ -4786.3, 2.17545,
+ -4365.16, 2.55769,
+ -3981.07, 3.01277,
+ -3630.78, 3.55623,
+ -3311.31, 4.20742,
+ -3019.95, 4.99053,
+ -2754.23, 5.93609,
+ -2511.89, 7.08278,
+ -2290.87, 8.48001,
+ -2089.3, 10.1913,
+ -1905.46, 12.2989,
+ -1737.8, 14.9098,
+ -1584.89, 18.1642,
+ -1445.44, 22.2461,
+ -1318.26, 27.3978,
+ -1202.26, 33.9362,
+ -1096.48, 42.2716,
+ -1000, 52.9221,
+ -912.011, 66.5127,
+ -831.764, 83.7346,
+ -758.578, 105.231,
+ -691.831, 131.38,
+ -630.957, 161.984,
+ -575.44, 196.017,
+ -524.807, 231.639,
+ -478.63, 266.615,
+ -436.516, 298.964,
+ -398.107, 327.431,
+ -363.078, 351.577,
+ -331.131, 371.429,
+ -301.995, 384.596,
+ -275.423, 392.471,
+ -251.189, 397.703,
+ -229.087, 401.371,
+ -208.93, 404.029,
+ -190.546, 406.014,
+ -173.78, 407.468,
+ -158.489, 408.598,
+ -144.544, 409.455,
+ -131.826, 410.104,
+ -120.226, 410.586,
+ -1, 410.714,
+ 1, 410.714,
+ 120.226, 410.586,
+ 131.826, 410.104,
+ 144.544, 409.455,
+ 158.489, 408.598,
+ 173.78, 407.468,
+ 190.546, 406.014,
+ 208.93, 404.029,
+ 229.087, 401.371,
+ 251.189, 397.703,
+ 275.423, 392.471,
+ 301.995, 384.596,
+ 331.131, 371.429,
+ 363.078, 351.577,
+ 398.107, 327.431,
+ 436.516, 298.964,
+ 478.63, 266.615,
+ 524.807, 231.639,
+ 575.44, 196.017,
+ 630.957, 161.984,
+ 691.831, 131.38,
+ 758.578, 105.231,
+ 831.764, 83.7346,
+ 912.011, 66.5127,
+ 1000, 52.9221,
+ 1096.48, 42.2716,
+ 1202.26, 33.9362,
+ 1318.26, 27.3978,
+ 1445.44, 22.2461,
+ 1584.89, 18.1642,
+ 1737.8, 14.9098,
+ 1905.46, 12.2989,
+ 2089.3, 10.1913,
+ 2290.87, 8.48001,
+ 2511.89, 7.08278,
+ 2754.23, 5.93609,
+ 3019.95, 4.99053,
+ 3311.31, 4.20742,
+ 3630.78, 3.55623,
+ 3981.07, 3.01277,
+ 4365.16, 2.55769,
+ 4786.3, 2.17545,
+ 5248.07, 1.8535,
+ 5754.4, 1.58163,
+ 6309.57, 1.35157,
+ 6918.31, 1.15643,
+ 7585.78, 0.990608,
+ 8317.64, 0.849456,
+ 9120.11, 0.729111]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.005

.subckt tx_3B8_184 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 184
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 184
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 0.858958,
+ -8317.64, 1.01811,
+ -7585.78, 1.2103,
+ -6918.31, 1.44351,
+ -6309.57, 1.72804,
+ -5754.4, 2.0773,
+ -5248.07, 2.50894,
+ -4786.3, 3.04649,
+ -4365.16, 3.72164,
+ -3981.07, 4.57774,
+ -3630.78, 5.67483,
+ -3311.31, 7.0973,
+ -3019.95, 8.9651,
+ -2754.23, 11.4513,
+ -2511.89, 14.8056,
+ -2290.87, 19.3879,
+ -2089.3, 25.7022,
+ -1905.46, 34.4067,
+ -1737.8, 46.2266,
+ -1584.89, 61.646,
+ -1445.44, 80.3394,
+ -1318.26, 100.729,
+ -1202.26, 120.406,
+ -1096.48, 137.359,
+ -1000, 150.786,
+ -912.011, 160.911,
+ -831.764, 168.397,
+ -758.578, 173.925,
+ -691.831, 177.692,
+ -630.957, 179.75,
+ -575.44, 181.03,
+ -524.807, 181.891,
+ -478.63, 182.499,
+ -436.516, 182.941,
+ -398.107, 183.273,
+ -363.078, 183.513,
+ -331.131, 183.702,
+ -301.995, 183.844,
+ -275.423, 183.952,
+ -1, 184,
+ 1, 184,
+ 275.423, 183.952,
+ 301.995, 183.844,
+ 331.131, 183.702,
+ 363.078, 183.513,
+ 398.107, 183.273,
+ 436.516, 182.941,
+ 478.63, 182.499,
+ 524.807, 181.891,
+ 575.44, 181.03,
+ 630.957, 179.75,
+ 691.831, 177.692,
+ 758.578, 173.925,
+ 831.764, 168.397,
+ 912.011, 160.911,
+ 1000, 150.786,
+ 1096.48, 137.359,
+ 1202.26, 120.406,
+ 1318.26, 100.729,
+ 1445.44, 80.3394,
+ 1584.89, 61.646,
+ 1737.8, 46.2266,
+ 1905.46, 34.4067,
+ 2089.3, 25.7022,
+ 2290.87, 19.3879,
+ 2511.89, 14.8056,
+ 2754.23, 11.4513,
+ 3019.95, 8.9651,
+ 3311.31, 7.0973,
+ 3630.78, 5.67483,
+ 3981.07, 4.57774,
+ 4365.16, 3.72164,
+ 4786.3, 3.04649,
+ 5248.07, 2.50894,
+ 5754.4, 2.0773,
+ 6309.57, 1.72804,
+ 6918.31, 1.44351,
+ 7585.78, 1.2103,
+ 8317.64, 1.01811,
+ 9120.11, 0.858958]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.01

.subckt tx_3B8_95 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 95
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 95
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 1.17662,
+ -8317.64, 1.44914,
+ -7585.78, 1.80023,
+ -6918.31, 2.2589,
+ -6309.57, 2.86799,
+ -5754.4, 3.69179,
+ -5248.07, 4.82948,
+ -4786.3, 6.43724,
+ -4365.16, 8.7645,
+ -3981.07, 12.2075,
+ -3630.78, 17.3636,
+ -3311.31, 24.9878,
+ -3019.95, 35.5916,
+ -2754.23, 48.5302,
+ -2511.89, 61.5872,
+ -2290.87, 72.4327,
+ -2089.3, 80.2606,
+ -1905.46, 85.5408,
+ -1737.8, 89.0511,
+ -1584.89, 91.423,
+ -1445.44, 93.0665,
+ -1318.26, 94.129,
+ -1202.26, 94.6924,
+ -1096.48, 95.0399,
+ -1000, 95.2719,
+ -912.011, 95.4349,
+ -831.764, 95.5532,
+ -758.578, 95.6427,
+ -691.831, 95.7049,
+ -630.957, 95.7558,
+ -575.44, 95.7937,
+ -524.807, 95.8221,
+ -1, 95.8333,
+ 1, 95.8333,
+ 524.807, 95.8221,
+ 575.44, 95.7937,
+ 630.957, 95.7558,
+ 691.831, 95.7049,
+ 758.578, 95.6427,
+ 831.764, 95.5532,
+ 912.011, 95.4349,
+ 1000, 95.2719,
+ 1096.48, 95.0399,
+ 1202.26, 94.6924,
+ 1318.26, 94.129,
+ 1445.44, 93.0665,
+ 1584.89, 91.423,
+ 1737.8, 89.0511,
+ 1905.46, 85.5408,
+ 2089.3, 80.2606,
+ 2290.87, 72.4327,
+ 2511.89, 61.5872,
+ 2754.23, 48.5302,
+ 3019.95, 35.5916,
+ 3311.31, 24.9878,
+ 3630.78, 17.3636,
+ 3981.07, 12.2075,
+ 4365.16, 8.7645,
+ 4786.3, 6.43724,
+ 5248.07, 4.82948,
+ 5754.4, 3.69179,
+ 6309.57, 2.86799,
+ 6918.31, 2.2589,
+ 7585.78, 1.80023,
+ 8317.64, 1.44914,
+ 9120.11, 1.17662]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
* Air gap 0.02

.subckt tx_3B8_48 P1 P2 S1 S2 params:
+ N1 10
+ N2 10
+ Ae 31e-6
+ Le 47e-3
+ Ue 48
+ K 0.99

* perm of free space
.param u0 1.25663e-6
* material dependent
.param ui 48
.param winding1_scale {Ae/Le*N1*u0*ue/ui}
.param winding2_scale {Ae/Le*N2*u0*ue/ui}
.param Ue_scale {ue/ui/Le}
.param N1K {N1*K}
.param N2K {N2*k}

* polarity of coils
* Note for the purposes of calculating saturation
* characteristics, this model assumes all windings 
* are closely coupled to the core
.param sign {IFF(K<0,-1,1)}


L1 NN1 P2 1
L2 NN2 S2 1
B1 P1 P2 V=v(ue)*(v(NN1,p2)*N1+v(NN2,s2)*N2K)*winding1_scale
B2 S1 S2 V=v(ue)* (v(NN2,s2)*N2+v(NN1,p2)*N1K)*winding2_scale
B3 ue 0 v=
+ table[
+ -9120.11, 2.8209,
+ -8317.64, 4.02251,
+ -7585.78, 5.96004,
+ -6918.31, 9.17908,
+ -6309.57, 14.4498,
+ -5754.4, 22.113,
+ -5248.07, 30.7099,
+ -4786.3, 37.6999,
+ -4365.16, 42.1824,
+ -3981.07, 44.8028,
+ -3630.78, 46.3418,
+ -3311.31, 47.2834,
+ -3019.95, 47.8907,
+ -2754.23, 48.2985,
+ -2511.89, 48.5385,
+ -2290.87, 48.6672,
+ -2089.3, 48.7485,
+ -1905.46, 48.8033,
+ -1737.8, 48.8422,
+ -1584.89, 48.8705,
+ -1445.44, 48.8922,
+ -1318.26, 48.9067,
+ -1202.26, 48.9191,
+ -1096.48, 48.9283,
+ -1000, 48.9348,
+ -1, 48.9362,
+ 1, 48.9362,
+ 1000, 48.9348,
+ 1096.48, 48.9283,
+ 1202.26, 48.9191,
+ 1318.26, 48.9067,
+ 1445.44, 48.8922,
+ 1584.89, 48.8705,
+ 1737.8, 48.8422,
+ 1905.46, 48.8033,
+ 2089.3, 48.7485,
+ 2290.87, 48.6672,
+ 2511.89, 48.5385,
+ 2754.23, 48.2985,
+ 3019.95, 47.8907,
+ 3311.31, 47.2834,
+ 3630.78, 46.3418,
+ 3981.07, 44.8028,
+ 4365.16, 42.1824,
+ 4786.3, 37.6999,
+ 5248.07, 30.7099,
+ 5754.4, 22.113,
+ 6309.57, 14.4498,
+ 6918.31, 9.17908,
+ 7585.78, 5.96004,
+ 8317.64, 4.02251,
+ 9120.11, 2.8209]
+ ( (i(b2)*(N2*sign)+i(b1)*N1)*Ue_scale)
F1 P2 NN1 B1 1
F2 S2 NN2 B2 1

.ends
